(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var je,g,fn,mn,J,St,gn,yn,_n,ft,at,ot,be={},vn=[],wi=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ae=Array.isArray;function $(e,t){for(var n in t)e[n]=t[n];return e}function mt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function st(e,t,n){var i,r,a,o={};for(a in t)a=="key"?i=t[a]:a=="ref"?r=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?je.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return Re(e,o,i,r,null)}function Re(e,t,n,i,r){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++fn,__i:-1,__u:0};return r==null&&g.vnode!=null&&g.vnode(a),a}function K(e){return e.children}function P(e,t){this.props=e,this.context=t}function se(e,t){if(t==null)return e.__?se(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?se(e):null}function bn(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return bn(e)}}function Nt(e){(!e.__d&&(e.__d=!0)&&J.push(e)&&!ze.__r++||St!=g.debounceRendering)&&((St=g.debounceRendering)||gn)(ze)}function ze(){for(var e,t,n,i,r,a,o,l=1;J.length;)J.length>l&&J.sort(yn),e=J.shift(),l=J.length,e.__d&&(n=void 0,i=void 0,r=(i=(t=e).__v).__e,a=[],o=[],t.__P&&((n=$({},i)).__v=i.__v+1,g.vnode&&g.vnode(n),gt(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[r]:null,a,r??se(i),!!(32&i.__u),o),n.__v=i.__v,n.__.__k[n.__i]=n,Sn(a,n,o),i.__e=i.__=null,n.__e!=r&&bn(n)));ze.__r=0}function wn(e,t,n,i,r,a,o,l,c,h,d){var p,m,f,S,L,M,v,b=i&&i.__k||vn,U=t.length;for(c=ki(n,t,b,c,U),p=0;p<U;p++)(f=n.__k[p])!=null&&(m=f.__i==-1?be:b[f.__i]||be,f.__i=p,M=gt(e,f,m,r,a,o,l,c,h,d),S=f.__e,f.ref&&m.ref!=f.ref&&(m.ref&&yt(m.ref,null,f),d.push(f.ref,f.__c||S,f)),L==null&&S!=null&&(L=S),(v=!!(4&f.__u))||m.__k===f.__k?c=kn(f,c,e,v):typeof f.type=="function"&&M!==void 0?c=M:S&&(c=S.nextSibling),f.__u&=-7);return n.__e=L,c}function ki(e,t,n,i,r){var a,o,l,c,h,d=n.length,p=d,m=0;for(e.__k=new Array(r),a=0;a<r;a++)(o=t[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=a+m,(o=e.__k[a]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Re(null,o,null,null,null):Ae(o)?Re(K,{children:o},null,null,null):o.constructor==null&&o.__b>0?Re(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=e,o.__b=e.__b+1,l=null,(h=o.__i=Si(o,n,c,p))!=-1&&(p--,(l=n[h])&&(l.__u|=2)),l==null||l.__v==null?(h==-1&&(r>d?m--:r<d&&m++),typeof o.type!="function"&&(o.__u|=4)):h!=c&&(h==c-1?m--:h==c+1?m++:(h>c?m--:m++,o.__u|=4))):e.__k[a]=null;if(p)for(a=0;a<d;a++)(l=n[a])!=null&&(2&l.__u)==0&&(l.__e==i&&(i=se(l)),An(l,l));return i}function kn(e,t,n,i){var r,a;if(typeof e.type=="function"){for(r=e.__k,a=0;r&&a<r.length;a++)r[a]&&(r[a].__=e,t=kn(r[a],t,n,i));return t}e.__e!=t&&(i&&(t&&e.type&&!t.parentNode&&(t=se(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Be(e,t){return t=t||[],e==null||typeof e=="boolean"||(Ae(e)?e.some(function(n){Be(n,t)}):t.push(e)),t}function Si(e,t,n,i){var r,a,o,l=e.key,c=e.type,h=t[n],d=h!=null&&(2&h.__u)==0;if(h===null&&e.key==null||d&&l==h.key&&c==h.type)return n;if(i>(d?1:0)){for(r=n-1,a=n+1;r>=0||a<t.length;)if((h=t[o=r>=0?r--:a++])!=null&&(2&h.__u)==0&&l==h.key&&c==h.type)return o}return-1}function At(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||wi.test(t)?n:n+"px"}function He(e,t,n,i,r){var a,o;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||At(e.style,t,"");if(n)for(t in n)i&&n[t]==i[t]||At(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(_n,"$1")),o=t.toLowerCase(),t=o in e||t=="onFocusOut"||t=="onFocusIn"?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?i?n.u=i.u:(n.u=ft,e.addEventListener(t,a?ot:at,a)):e.removeEventListener(t,a?ot:at,a);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Et(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ft++;else if(t.t<n.u)return;return n(g.event?g.event(t):t)}}}function gt(e,t,n,i,r,a,o,l,c,h){var d,p,m,f,S,L,M,v,b,U,j,Te,pe,kt,Me,de,Ye,z=t.type;if(t.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),a=[l=t.__e=n.__e]),(d=g.__b)&&d(t);e:if(typeof z=="function")try{if(v=t.props,b="prototype"in z&&z.prototype.render,U=(d=z.contextType)&&i[d.__c],j=d?U?U.props.value:d.__:i,n.__c?M=(p=t.__c=n.__c).__=p.__E:(b?t.__c=p=new z(v,j):(t.__c=p=new P(v,j),p.constructor=z,p.render=Ai),U&&U.sub(p),p.props=v,p.state||(p.state={}),p.context=j,p.__n=i,m=p.__d=!0,p.__h=[],p._sb=[]),b&&p.__s==null&&(p.__s=p.state),b&&z.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=$({},p.__s)),$(p.__s,z.getDerivedStateFromProps(v,p.__s))),f=p.props,S=p.state,p.__v=t,m)b&&z.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),b&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(b&&z.getDerivedStateFromProps==null&&v!==f&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(v,j),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(v,p.__s,j)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(p.props=v,p.state=p.__s,p.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(ae){ae&&(ae.__=t)}),Te=0;Te<p._sb.length;Te++)p.__h.push(p._sb[Te]);p._sb=[],p.__h.length&&o.push(p);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(v,p.__s,j),b&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(f,S,L)})}if(p.context=j,p.props=v,p.__P=e,p.__e=!1,pe=g.__r,kt=0,b){for(p.state=p.__s,p.__d=!1,pe&&pe(t),d=p.render(p.props,p.state,p.context),Me=0;Me<p._sb.length;Me++)p.__h.push(p._sb[Me]);p._sb=[]}else do p.__d=!1,pe&&pe(t),d=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++kt<25);p.state=p.__s,p.getChildContext!=null&&(i=$($({},i),p.getChildContext())),b&&!m&&p.getSnapshotBeforeUpdate!=null&&(L=p.getSnapshotBeforeUpdate(f,S)),de=d,d!=null&&d.type===K&&d.key==null&&(de=Nn(d.props.children)),l=wn(e,Ae(de)?de:[de],t,n,i,r,a,o,l,c,h),p.base=t.__e,t.__u&=-161,p.__h.length&&o.push(p),M&&(p.__E=p.__=null)}catch(ae){if(t.__v=null,c||a!=null)if(ae.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,t.__e=l}else{for(Ye=a.length;Ye--;)mt(a[Ye]);lt(t)}else t.__e=n.__e,t.__k=n.__k,ae.then||lt(t);g.__e(ae,t,n)}else a==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=Ni(n.__e,t,n,i,r,a,o,c,h);return(d=g.diffed)&&d(t),128&t.__u?void 0:l}function lt(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(lt)}function Sn(e,t,n){for(var i=0;i<n.length;i++)yt(n[i],n[++i],n[++i]);g.__c&&g.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(a){a.call(r)})}catch(a){g.__e(a,r.__v)}})}function Nn(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Ae(e)?e.map(Nn):$({},e)}function Ni(e,t,n,i,r,a,o,l,c){var h,d,p,m,f,S,L,M=n.props,v=t.props,b=t.type;if(b=="svg"?r="http://www.w3.org/2000/svg":b=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),a!=null){for(h=0;h<a.length;h++)if((f=a[h])&&"setAttribute"in f==!!b&&(b?f.localName==b:f.nodeType==3)){e=f,a[h]=null;break}}if(e==null){if(b==null)return document.createTextNode(v);e=document.createElementNS(r,b,v.is&&v),l&&(g.__m&&g.__m(t,a),l=!1),a=null}if(b==null)M===v||l&&e.data==v||(e.data=v);else{if(a=a&&je.call(e.childNodes),M=n.props||be,!l&&a!=null)for(M={},h=0;h<e.attributes.length;h++)M[(f=e.attributes[h]).name]=f.value;for(h in M)if(f=M[h],h!="children"){if(h=="dangerouslySetInnerHTML")p=f;else if(!(h in v)){if(h=="value"&&"defaultValue"in v||h=="checked"&&"defaultChecked"in v)continue;He(e,h,null,f,r)}}for(h in v)f=v[h],h=="children"?m=f:h=="dangerouslySetInnerHTML"?d=f:h=="value"?S=f:h=="checked"?L=f:l&&typeof f!="function"||M[h]===f||He(e,h,f,M[h],r);if(d)l||p&&(d.__html==p.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(p&&(e.innerHTML=""),wn(t.type=="template"?e.content:e,Ae(m)?m:[m],t,n,i,b=="foreignObject"?"http://www.w3.org/1999/xhtml":r,a,o,a?a[0]:n.__k&&se(n,0),l,c),a!=null)for(h=a.length;h--;)mt(a[h]);l||(h="value",b=="progress"&&S==null?e.removeAttribute("value"):S!=null&&(S!==e[h]||b=="progress"&&!S||b=="option"&&S!=M[h])&&He(e,h,S,M[h],r),h="checked",L!=null&&L!=e[h]&&He(e,h,L,M[h],r))}return e}function yt(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(r){g.__e(r,n)}}function An(e,t,n){var i,r;if(g.unmount&&g.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||yt(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){g.__e(a,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&An(i[r],t,n||typeof e.type!="function");n||mt(e.__e),e.__c=e.__=e.__e=void 0}function Ai(e,t,n){return this.constructor(e,n)}function Ei(e,t,n){var i,r,a,o;t==document&&(t=document.documentElement),g.__&&g.__(e,t),r=(i=!1)?null:t.__k,a=[],o=[],gt(t,e=t.__k=st(K,null,[e]),r||be,be,t.namespaceURI,r?null:t.firstChild?je.call(t.childNodes):null,a,r?r.__e:t.firstChild,i,o),Sn(a,e,o)}je=vn.slice,g={__e:function(e,t,n,i){for(var r,a,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(e)),o=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),o=r.__d),o)return r.__E=r}catch(l){e=l}throw e}},fn=0,mn=function(e){return e!=null&&e.constructor==null},P.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=$({},this.state),typeof e=="function"&&(e=e($({},n),this.props)),e&&$(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Nt(this))},P.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Nt(this))},P.prototype.render=K,J=[],gn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,yn=function(e,t){return e.__v.__b-t.__v.__b},ze.__r=0,_n=/(PointerCapture)$|Capture$/i,ft=0,at=Et(!1),ot=Et(!0);var Ci=0;function s(e,t,n,i,r,a){t||(t={});var o,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?o=t[l]:c[l]=t[l];var h={type:e,props:c,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ci,__i:-1,__u:0,__source:r,__self:a};if(typeof e=="function"&&(o=e.defaultProps))for(l in o)c[l]===void 0&&(c[l]=o[l]);return g.vnode&&g.vnode(h),h}var E=(e=>(e[e.ANSI_IBM=0]="ANSI_IBM",e[e.ANSI_APPLE=1]="ANSI_APPLE",e[e.ANSI_HHKB=2]="ANSI_HHKB",e[e.ANSI_AHKB=3]="ANSI_AHKB",e))(E||{}),R=(e=>(e[e.H14_Wide=0]="H14_Wide",e[e.H14_Traditional=1]="H14_Traditional",e[e.H13_Wide=2]="H13_Wide",e[e.H13_MidShift=3]="H13_MidShift",e[e.H12=4]="H12",e))(R||{}),B=(e=>(e[e.KATANA_60=0]="KATANA_60",e[e.EP60=1]="EP60",e[e.EB65_LOW_SHIFT=2]="EB65_LOW_SHIFT",e[e.EB65_MID_SHIFT=3]="EB65_MID_SHIFT",e))(B||{}),ee=(e=>(e[e.WIDE_HANDS=0]="WIDE_HANDS",e[e.LESS_GAPS=1]="LESS_GAPS",e[e.BIG_ENTER=2]="BIG_ENTER",e))(ee||{}),F=(e=>(e[e.EXTRA_WIDE=0]="EXTRA_WIDE",e[e.NICELY_WIDE=1]="NICELY_WIDE",e[e.RIGHT_ENTER=2]="RIGHT_ENTER",e[e.CENTRAL_ENTER=3]="CENTRAL_ENTER",e[e.VERTICAL_ENTER=4]="VERTICAL_ENTER",e))(F||{}),N=(e=>(e[e.ANSI=0]="ANSI",e[e.Harmonic=1]="Harmonic",e[e.Ergoplank=2]="Ergoplank",e[e.Ergosplit=3]="Ergosplit",e))(N||{});const Ti=["ANSI / TypeWriter","Harmonic family","Ergoplank / Katana","Split Ortho"];var u=(e=>(e[e.Number=0]="Number",e[e.Upper=1]="Upper",e[e.Home=2]="Home",e[e.Lower=3]="Lower",e[e.Bottom=4]="Bottom",e))(u||{}),w=(e=>(e[e.LayoutKeySize=0]="LayoutKeySize",e[e.LayoutKeyEffort=1]="LayoutKeyEffort",e[e.LayoutFingering=2]="LayoutFingering",e[e.LayoutAngle=3]="LayoutAngle",e[e.MappingDiff=4]="MappingDiff",e[e.MappingFrequeny=5]="MappingFrequeny",e[e.MappingBigrams=6]="MappingBigrams",e[e.MappingAltGr=7]="MappingAltGr",e))(w||{});const Mi=e=>[0,1,2,3].includes(e);var k=(e=>(e[e.LPinky=0]="LPinky",e[e.LRing=1]="LRing",e[e.LMiddle=2]="LMiddle",e[e.LIndex=3]="LIndex",e[e.LThumb=4]="LThumb",e[e.RThumb=5]="RThumb",e[e.RIndex=6]="RIndex",e[e.RMiddle=7]="RMiddle",e[e.RRing=8]="RRing",e[e.RPinky=9]="RPinky",e))(k||{});const Pe=e=>Math.floor(e/5),Ct=e=>e==5||e==4,te=.2,Tt=1,Mt=1.5,Ht=2,we=3;var T=(e=>(e[e.SamePosition=0]="SamePosition",e[e.SameFinger=1]="SameFinger",e[e.SameHand=2]="SameHand",e[e.SwapHands=3]="SwapHands",e))(T||{});const Ee=[1,.5,0,-.5],ke={EDGE:"edge-key",HIGHLIGHT:"highlighted-key"};var y=(e=>(e[e.OtherHand=0]="OtherHand",e[e.InvolvesThumb=1]="InvolvesThumb",e[e.SameFinger=2]="SameFinger",e[e.AltFinger=3]="AltFinger",e[e.OppositeLateral=4]="OppositeLateral",e[e.SameRow=5]="SameRow",e[e.NeighboringRow=6]="NeighboringRow",e[e.OppositeRow=7]="OppositeRow",e))(y||{});const En=[0,0,4,1,2,0,0,2],Hi="âŒ¦â†¹âŒ«â‡§â½âŽÂ¤âŒ¥â‡žâ‡Ÿâ‡¤â‡¥â†â†‘â†“â†’",Cn=e=>Hi.includes(e),xi=["Esc","Tab","Backspace","CAPS","Delete","Enter","Space","Shift","Ctrl","Alt","Fn","Cmd","AltGr","Menu"],Tn=e=>xi.includes(e),Mn=e=>(Cn(e)||Tn(e))&&e!=="â½"&&e!=="âŽ"&&e!=="";function Ii(e,t,n){const i=Hn(e,t,n);let r=0;return Object.entries(i).forEach(([a,o])=>{r+=o*n[a.toUpperCase()]}),Math.round(r)}function qe(e,t,n){const i=Hn(e,t,n),r={};return Object.entries(i).forEach(([a,o])=>{r[o]=(r[o]||0)+n[a.toUpperCase()]}),Object.entries(r).forEach(([a,o])=>{r[a]=Math.round(o)}),r}function Hn(e,t,n){const i={};return t.forEach((r,a)=>{r.forEach((o,l)=>{o&&n[o.toUpperCase()]&&(i[o]=e.singleKeyEffort[a][l]??999)})}),i}const le={name:"Qwerty â€“ US and world-wide standard",techName:"QWERTY",description:`This ancient typewriter-born key mapping is so ubiquitous today that many people might never have seen 
    a different mapping in their whole life. At the same time it is also extra-ordinary bad for touch-typing, 
    because frequently used letters are not in the center. `,sourceUrl:"https://en.wikipedia.org/wiki/QWERTY",mapping30:["qwertyuiop","asdfghjkl;","zxcvbnm,./"]},Li={name:"Qweerty",description:`This mapping does not move any key, but simply provides an additional key mapping for E on a thumb key. 
        It is not made for practical use, but simply to show the effect of the thumb key on the typing metrics.
        Or for people to just try how a thumb key would feel. `,mappingThumb30:["qw-rtyuiop","asdfghjkl;","zxcvbnm,.","e"]},Ki={name:"ErgoFix",description:`The changed stagger on the left-hand side of the Ergoplank keyboard layout 
    makes the Qwerty letters B and T even harder to access than they already are on Qwerty. 
    Users that are not touch-typing will not notice this small shift in position, 
    but for touch-typists the change is so noticeable and big, that we can as well place the letters somewhere else.
    So we swap the triple "TB;" which also make the keymap cleaner to look at with punctuation characters in the bottom row.
    The move of T creates a lateral stretch for the NT bigram, so let's use that as an excuse to also swap J and N.
    The J-N swap also removes the worst scissor-movements of the Qwerty letter map and allows the hands to be much more centered,
    since all the 11 most frequent letters in English texts are now on the home row or above.`,mapping30:["qwerbyuiop","asdfghnklt","zxcv;jm,./"]},Fi={name:"Qwerty Wide",description:`Small changes to Qwerty for a wide hand position. 
    This makes it easy to swap keycaps on your keyboard to fit the layout, by not changing the J and \\| key position. e
    This is, how, as a nice side-effect, N moves to the home-row.
    Thus the mapping becomes a gateway drug to more layout changes, because it makes it feel good to have N on a home key 
    and weird to not have more frequent letters there, too.
    We also pair [] and +- vertically and close, instead of horizontally and split (as would happen with the automatically generated wide-mod),
    which brings the frequently used hyphen into a better position.
    A lot of muscle memory is preserved because + and - stay on the same finger and in the same direction of movement.
    For a fun laptop version, [] could be replaced by Home/End and \\ by Delete. 
    Far better to have those keys in standard positions (instead of random model-dependent Laptop positions),
    because the characters can as well be accessible on the AltGr layer.`,mappingAnsiWide:["[=","qwert]yuiop-\\","asdfg;jnkl'","zxcvb/hm,.","âŒ¥â‰¡"]},Ri={name:"Thumby Entry (or EN-try!)",description:"Thumb-E plus a home-row N as low-key way to feel into optimized letter mappings. Additionally provides synergy, because the common EN/NE bigrams don't require you to pinch your hand. ",mappingThumb30:["qwbrtyuiop","asdfghnkl;","zxcv-jm,.","e"]},xn={name:"Qwertz â€“ German Standard",techName:"QWERTZ",description:"Qwerty, but with z/y swapped and three more letters added instead of extended punctuation.",sourceUrl:"https://en.wikipedia.org/wiki/QWERTZ",mapping30:["qwertzuiop","asdfgjnkl;","yxcvbhm,./"],mappingAnsi:["ÃŸÂ´","qwertzuiopÃ¼+#","asdfghjklÃ¶Ã¤","yxcvbnm,.-","âŒ¥â‰¡"],mappingAnsiWide:["Â´ÃŸ","qwert+zuiopÃ¼Ã¤","asdfg#hjklÃ¶","yxcvb-nm,.","âŒ¥â‰¡"],mappingHarmonic14t:["ÃŸ","qwert+zuiopÃ¼Ã¤","asdfg#hjklÃ¶","yxcvb-nm,.","^âŒ¥Â´â‰¡"]},qi={name:"Norman",sourceUrl:"https://normanlayout.info/index.html",description:"Norman has the heaviest focus on minimizing finger movement among all the mappings in this comparison. Because Norman does this while also minimizing the learning difference to the Qwerty mapping,it ends up with the very worst SFB scores as well. Especially the RI bigram and several of the right-index finger bigrams would certainly drive me crazy. So Norman serves as a good example that not-measured metrics will usually suffer when optimizing very hard for some other metric. This is why I stick so much with minimal modifications: it avoids unintended side-effects. ",mapping30:["qwdfkjurl;","asetgynioh","zxcvbpm,./"]},Wi={name:"Minimak 4-key",techName:"Minimak-4",sourceUrl:"https://github.com/binaryphile/www.minimak.org/blob/master/media/minimak_4_key.png",sourceLinkTitle:"GitHub: binaryphile/www.minimak.org",description:"Minimak partitions its key remapping in three steps, so that you can learn the mapping incrementally. Thanks to the many same-finger changes this trick actually works with all of the mappings in this app, but Minimak get credit for making it explicit.",mapping30:["qwdrkyuiop","astfghjel;","zxcvbnm,./"]},zi={...Wi,name:"Minimak Full (12-key)",techName:"Minimak-12",sourceUrl:"https://github.com/binaryphile/www.minimak.org/blob/master/media/minimak.png",mapping30:["qwdfkyuil;","astrghneop","zxcvbjm,./"]},Bi={name:"Qwerty Flip/Twist",techName:"Qwerty-FlipTwist",localMaximum:!0,sourceUrl:"https://nick-gravgaard.com/qwerty-flip/",description:"The genius mapping that anyone can remember after seeing it only one time. Absolutely minimal learning; much better typing than Qwerty; and anyone can still use your relabled keyboard, because flipped keys are so close to where people look for them. ",mapping30:["qwdfgyukl;","aserthniop","zxcvbjm,./"]},Pi={name:"Qwerty Flip/Twist + Thumb",techName:"Qwerty-FlipTwist-Thumb",sourceUrl:"",description:`We build on the genius of Qwerty Flip and make it into a real ten-finger mapping 
    by moving E to the thumb and B in E's old spot. 
    As a consequence, D can stay on the home row. 
    This mapping changes no more letters than Qwerty Flip/Spin, but has much better metrics that can also be felt in practice. 
    It has great bigram metrics, but it's single key metrics depend a lot on how one values the central home columns. 
     (Currently on my split ortho keyboard they feel just as easy to reach as the best non-home keys...)`,mappingThumb30:["qwbfgyukl;","asdrthniop","zxcv-jm,.","e"]},$i={name:"Qwerty Flip/Twist + Thumb + Fling R",techName:"Qwerty-FlipTwist-Thumb-Fling-R",sourceUrl:"",description:`Instead of Qwerty Flip/Twist's OLP "Spin" to improve right pinky use, we do a hand-swap (aka "fling") of R 
    which brings all top nine letters to a home key and simultaneously removes a lot of SFBs. `,mappingThumb30:["qwbf;yuklp","asdtghnior","zxcv-jm,.","e"]},Oi={name:"Qwerty Flip/Twist + Thumb + Fling T",techName:"Qwerty-FlipTwist-Thumb-Fling-T",sourceUrl:"",description:`Instead of Qwerty Flip/Twist's OLP "Spin" to improve right pinky use, we do a hand-swap (aka "fling") of T 
    which brings all top nine letters to a home key and simultaneously removes a lot of SFBs. 
    We can see how the Cozy Keyboard mapping derives from this one...`,mappingThumb30:["qwbf;yuklp","asdrghniot","zxcv-jm,.","e"]},Ui={name:"Qwerty Flip/Twist/Spin",techName:"Qwerty-FlipTwistSpin",sourceUrl:"https://nick-gravgaard.com/qwerty-flip/",description:"A nice spin on the Flip/Twist mapping which improves typing a bit more.",mapping30:["qwdfgyukp;","aserthniol","zxcvbjm,./"]},ji={name:"Quipper aka Qwpr",techName:"Qwpr",localMaximum:!0,sourceUrl:"https://sourceforge.net/p/qwpr/wiki/Home/",description:"By placing 'e' on the right pinky, this mapping avoids a lot of bigram conflicts, since no other letter is on that finger. ",mapping30:["qwprfyukl;","asdtghnioe","zxcvbjm,./"]},Di={name:"Quipper with Thumb-R",techName:"Qwp-Thumb-R",description:`We super-charge Quipper by placing R on the thumb and B in R's old spot. 
    This means that the Quipper Home-Row stays unchanged, 
    making it a super-easy upgrade with a lot of benefits both in single-key effort and avoided bigram conflicts. 
    Interestingly, we end up with very similar metrics to The Cozy Keyboard, despite rotating the very frequent letters E, T, and R. `,mappingThumb30:["qwpbfyukl;","asdtghnioe","zxcv-jm,.","r"]},Gi={name:"Quipper with Thumb-T",techName:"Qwp-Thumb-T",description:`We super-charge Quipper by placing T on the thumb, R on T's home spot, and B in R's old spot. 
    This means that the Quipper Home-Row stays unchanged, 
    making it a super-easy upgrade with a lot of benefits both in single-key effort and avoided bigram conflicts. 
    Interestingly, we end up with very similar metrics to The Cozy Keyboard, despite rotating the very frequent letters E, T, and R. `,mappingThumb30:["qwpbfyukl;","asdrghnioe","zxcv-jm,.","t"]},Qi={name:"Quipper Thumby",localMaximum:!0,description:`With the Thumb T and the KU swap, Quipper Thumby is an excellent well-rounded mapping. 
    Great typing metrics for little learning effort! (Disclaimer: I haven't actually typed with this letter map.)`,mappingThumb30:["qwpbfykul;","asdrghnioe","zxcv-jm,.","t"]},Vi={name:"The Cozy Keyboard, English variant",techName:"cozy-english",localMaximum:!0,description:`A simple continuation of Qwerty Flip/Twist/Thumb (with a Fling instead of the Spin ðŸ˜…), 
    although I didn't know of Qwerty Flip when first designing this letter map. 
    We swap T to the right hand and suddenly get very good metrics given very little changes from the original Qwerty.
    There's also an additional KU swap which makes U easier to type and more importantly removes NU and HU SFBs 
    which could be alt-fingered in Qwerty, but become annoyingly noticeable once the N is so easy to type. `,mappingThumb30:["qwbf;ykulp","asdrghniot","zxcv-jm,.","e"],mappingSplitOrtho:["","qwbf'ykulp-","asdrghniot;","zxcv=jm,./","â‡¤\\eâ‡¥"]},Yi={name:"The Cozy Keyboard, German variant",techName:"cozy-german",sourceUrl:"https://github.com/matey-jack/gemuetliche-tastatur",description:"German and English have very similar letter frequencies. I am writing a lot in both languages, and so I optimized for both. The result is a Cozy variant with just two changes: O and L stay as in Qwertyand Y and Z stay as in the standard German Qwertz. This reflects German letter frequencies and also makes it a bit easier to switch from the legacy Qwerty/Qwertz mapping. ",comparisonBase:xn,mappingThumb30:["qwbf-zkuop","asdrghnilt","yxcv;jm,.","e"]},Zi={name:"Cozy plus C",description:`Swapping C to a better position on its traditions finger improves the single-key metrics 
    and also keeps B on the traditional finger. `,mappingThumb30:["qwcfbykulp","asdrghniot","zx;v-jm,.","e"]},Ji={name:"Cozy plus C and H",description:`Swapping C and H on same finger to better positions improves the single-key metrics, 
    but doesn't have significant impact in practical experience. 
    Especially on my ortho keyboard, the old and new H positions are similarly easy to reach. `,mappingThumb30:["qwcfbykulp","asdrgmniot","zx;v-jh,.","e"]},Xi={name:"Cozy, fling H",description:`(Just an experiment, NOT a recommended variant.) 
    The Cozy Keyboard has great bigram conflict avoidance due to flipping T to the right hand. 
    This variant tries improving H's position without having to move D or S as Top Nine does. 
    It's a nice try, but neither single nor bigram score approaches the values of Top Nine RST.`,mappingThumb30:["qwfhbykulp","asdrg;niot","zxcv-jm,.","e"]},er={name:"English Top Nine",techName:"top-nine",description:`This mapping started as a straw man experiment to determine what would be the best single key effort score
    achievable under similar conditions as Colemak. 
    (Which in particular means not changing C's position which among the Colemak fixed letters is the worst-placed one.)
    
    The mapping is built by putting the English Top 9 most frequent letters on home keys, which seems very sensible, 
    since the Top 9 in English have sort-of a gap before the top 10 letter. 
    Anyway, the next most frequent letters are D, L, and U, which are placed in second-best positions on the strongest and 
    longest finger upper row.
    This not just yields a great single key metric, but also pleasantly little changes compared to the Qwerty mapping,
    thus nice learnability not just from Qwerty, but also derived mappings, like in particular Norman which it resembles.
    
    However, the price to pay is some very annoying SFBs involving R. 
    Those can be fixed with more letter swaps, yielding many variants, lots of confusion, but no clear winner.
    And the over-focus on English also reduces the scores for German.
    But at least the straw man allows us to see that the actual winning (well-rounded) mappings are not so far away from
    the theoretical optimum! Which is what the experiment was all about! `,mappingThumb30:["qwdfbykulp","asrtg-nioh","zxcv;jm,.","e"],mappingAnsiWide:["=\\","qwdfb-ykulp'","asrtg/;nioh","zxcv[]jm,.","eâŒ¥"],mappingSplitOrtho:["","qwdfbykulp=","asrtg-nioh'","zxcv;jm,./","â‡¤\\eâ‡¥"],mappingHarmonic13wide:["[]","wdfb-=kulp","qasrtg;jnioh'","zxcv\\/ym,.","`e"],mappingHarmonic14t:["`","qwdfb-=kulp'\\","asrtg;jnioh","zxcv[]ym,.","/eâŒ¥â‰¡"]},tr={name:"Top Nine Left",description:`This is Top Nine, but the left thumb types the letter E. 
    On the ancient ANSI keyboard, it's weird to use the space bar for a letter, 
    but on any modern Ortholinear or harmonically staggered keyboard, left and right are equally usable. 
    And Top Nine Left uses this symmetry to provide a highly performant mapping where all the letters 
    are on the same hand as in Qwerty. 
    (Unlike shown on the keyboard above, the space bar should be on the other thumb.) `,mappingSplitOrtho:["","qwdfbykulp-","asrtg=nioh'","zxcv;jm,./","â‡¤e\\â‡¥"],mappingHarmonic13wide:["[]","wdfb-=kulp","qasrtg;jnioh'","zxcv\\/ym,.","e`"]},nr={name:"Top Nine T",description:"Swapping the order of RT (from Qwerty) to TR improves the RD and RT bigrams, but brings new problems with RF, RB, RG, and CT.",mappingThumb30:["qwdfbykulp","astrg-nioh","zxcv;jm,.","e"]},ir={name:"Top Nine U",description:"Instead of swapping UK to improve the UN bigram, we swap UY. This is a same-finger swap generally, but allows alt-fingering the UN bigram. ",mappingThumb30:["qwdfbuyklp","asrtg-nioh","zxcv;jm,.","e"]},rr={name:"Top Nine RST",description:"(Just an experiment, NOT a recommended variant.) Top Nine's DR conflict is especially painful for Qwerty users, so we sacrifice the otherwise unchanged position of S to improve this. (And yep, somewhat ironically, we obtain Colemak' s left-hand home row.) ",mappingThumb30:["qwdfbykulp","arstg;nioh","zxcv-jm,.","e"]},ar={name:"Top Nine KU-L",description:"(Just an experiment, NOT a recommended variant.) One more finger swap to remove the strong ol/lo bigram conflict. I wouldn't want to actually use this, so it's just there to show the improvement in bigram scores. ",mappingThumb30:["qwdfbyku-p","asrtglnioh","zxcv;jm,.","e"]},In={name:"Colemak",localMaximum:!0,description:"Released in the year 2006, the Colemak letter map started a new world-wide interest in better keyboard mappings. It also pioneered the idea of leaving some crucial-for-shortcuts keys in their place. Colemak places a strong emphasis on avoiding single-finger bigram conflicts at the cost of many letters changing fingers. ",sourceUrl:"https://colemak.com/",mapping30:["qwfpgjluy;","arstdhneio","zxcvbkm,./"],mappingAnsiWide:["=-","qwfpg[jluy;'\\","arstd]hneio","zxcvb/km,.","âŒ¥â‰¡"]},or={name:"Colemak DH",description:'A 2014 variant of Colemak that places the letters D and H in better positions. Apparently the original Colemak assumed that the "home row" is the easiest to type in any position, but actually fingers move up and down more easily than left and right. Thus Colemak-DH puts less frequently used keys in the center column. (Note that the Colemak-DH authors prefer the ISO keyboard to achieve better staggering in the bottom row. That idea is valid, but the resulting tiny and much further away shift key is a no-go for me. Shown here is the version for the ANSI keyboard which additionally moves Z to the middle column.) ',sourceUrl:"https://colemakmods.github.io/mod-dh/",mapping30:["qwfpbjluy;","arstgmneio","xcdvzkh,./"],mappingAnsiWide:["=-","qwfpb[jluy;'\\","arstg]mneio","xcdvz/kh,.","âŒ¥â‰¡"],mappingSplitOrtho:["","qwfpbjluy;-","arstgmneio'","zxcdvkh,./","â‡¤\\=â‡¥"]},sr={name:"Colemak Thumby",localMaximum:!0,description:"Colemak with E on the thumb key and D taking E's home position. I like this variant the most, because it combines low typing effort with the lowest diff to Qwerty. (And it doesn't need all the shuffling of Colemak-DH on the left hand, while optionally allowing for the HM swap on the right hand, depending on preference.) ",sourceUrl:"https://colemak.com/",mappingThumb30:["qwfpgjluy;","arst-hndio","zxcvbkm,.","e"]},lr={name:"Colemak Thumby H",description:`Slightly modified version of Colemak-DH that places E on the thumb key and H on an actual home key. 
    Unlike Thumby Zero, there is no need to rescue the letter from "the worst position of the board", 
    because Colemak already places a very rare letter there. 
    Note that this slightly beats Colemak Thumby D on staggered keyboards where the left-bottom conflicts can be alt-fingered,
    but it's noticeably worse on Ortho boards. And all that for having more changes to Qwerty.
    TODO: make a custom version of this for the Harmonic 13 MidShift, because that's the only board to properly represent the angle mod. 
    And a custom version for ortho, same reason.`,mappingThumb30:["qwfpbjluy;","arstg-nhio","xcdvzkm,.","e"]},ur={name:"Colemak Thumby N",description:`Slightly modified version of Colemak-DH that places E on the thumb key and H on an actual home key. 
    Since N is more frequent than H, we move N to the middle finger where it causes less bigram conflicts.  
    TODO: make a custom version of this for the Harmonic 13 MidShift, because that's the only board to properly represent the angle mod. 
    And a custom version for ortho, same reason.`,mappingThumb30:["qwfpbjlyu;","arstg-hnio","xcdvzkm,.","e"]},cr={name:"Colemak Thumby L",description:"Just a test to compare metrics. Turns out that moving L to the home row does not cause less bigram conflicts. ",mappingThumb30:["qwfpbj-uy;","arstgmnlio","xcdvzkh,.","e"]},hr={name:"Maltron",sourceUrl:"https://www.maltron.com/the-maltron-letter-layout-advantage.html",sourceLinkTitle:"Maltron Company Website",localMaximum:!0,description:`Before the keyboard mapping community existed, the Maltron company produced and marketed keyboards that 
    had their own letter mapping... and remarkably with a letter on a thumb key! 
    This is designed exclusively for a split ortho board and I'll leave it at that.`,mappingSplitOrtho:["","qpycbvmuzl=","anisfdthor'",".,jg;/wk-x","â‡¤\\eâ‡¥"]},pr={name:"RSTHD",sourceUrl:"https://xsznix.wordpress.com/2016/05/16/introducing-the-rsthd-layout/",sourceLinkTitle:"Announcement Blog Post",description:`The first (or at least an early example) of a mapping with thumb letter, now created with the modern metrics 
    of the keyboard community in mind: not just frequent home row use and SFBs, but rolls, scissors, and more.
    Note that RSTD with thumb-E is only defined for Ortho boards, so the wide ANSI version here is an adaption 
    created in a rush just to let the app calculate the metrics.
    It also has a variant without thumb-E which is shown here on the ANSI non-wide and Harmonic layouts. 
    Switch to wide ANSI or split Ortho to see the actually famous version. `,mapping30:["jcyfkzlou;","rsthdmneia","qvgpbxw,./"],mappingAnsiWide:["=\\","jcyfk-zl,uq'","rsthdbmnaio","/vgp[]xw.;","eâŒ¥"],mappingSplitOrtho:["","jcyfkzl,uq-","rsthdmnaio=","/vgpbxw.;'","â‡¤\\eâ‡¥"]},ut=[le,Fi,Ki,Li,Ri,xn,Bi,Ui,Pi,$i,Oi,Vi,Yi,Xi,Zi,Ji,ji,Di,Gi,Qi,er,tr,rr,ir,ar,nr,zi,In,or,sr,lr,cr,ur,qi,hr,pr];function ne(e){return e.reduce((t,n)=>t+n,0)}function ct(e,t,n){return t!=u.Home?!1:n<=e.leftHomeIndex&&n>e.leftHomeIndex-4||n>=e.rightHomeIndex&&n<e.rightHomeIndex+4}function De(e,t,n){return Mn(e)?ke.EDGE:""}const Ln=(e,t,n)=>e.keyCapWidth?e.keyCapWidth(t,n):e.keyWidth(t,n),Kn=(e,t,n)=>e.keyCapHeight?e.keyCapHeight(t,n):1,Fn=e=>((t,n)=>Math.max(Kn(e,t,n),Ln(e,t,n)));function Rn(e){const t=[];return(e.thirtyKeyMapping||e.fullMapping).forEach((n,i)=>{n.forEach((r,a)=>{const o=Fn(e)(i,a);r!==null&&o!=1&&!t.includes(o)&&t.push(o)})}),t.sort(),t}function qn(e,t){return e==1?"key-size-square":"key-size-"+t.indexOf(e)}const Ce=(e,t,n)=>e&&"âŽâ†‘â†“â†â†’".includes(e)||e=="Esc"?ke.HIGHLIGHT:De(e);function dr(e){return!e.mapping30&&!e.mappingAnsi}function ie(e,t){const n=e.getSpecificMapping(t);if(n)return Ze(e.fullMapping,n,e.thirtyKeyMapping);if(e.thumb30KeyMapping&&t.mappingThumb30)return Ze(e.thumb30KeyMapping,["",...t.mappingThumb30]);if(e.thirtyKeyMapping&&t.mapping30)return Ze(e.thirtyKeyMapping,["",...t.mapping30])}function Wn(e,t){return t.mapping30&&e.thirtyKeyMapping||t.mappingThumb30&&e.thumb30KeyMapping?!0:!!e.getSpecificMapping(t)}const fr={"âŒ¥":"AltGr","â‡ª":"CAPS","â‰¡":"Menu",Æ’:"Fn"},mr="?",gr="_",Ze=(e,t,n)=>e.map((i,r)=>i.map((a,o)=>{const l=Array.isArray(a)?t[r+a[0]][a[1]]:typeof a=="number"?t[r][a]:a;return l==gr?"":l==mr?n?n[r][o]:"":fr[l]??l})),yr=(e,t)=>e==t?T.SameFinger:Pe(e)==Pe(t)?T.SameHand:T.SwapHands;function _r(e,t,n){const i=vr(e.mainFingerAssignment,n),r={};return t.forEach((a,o)=>{a.forEach((l,c)=>{if(!l||l==n[o][c])r[l]=T.SamePosition;else{let h=e.mainFingerAssignment[o][c];r[l]=yr(h,i[l])}})}),r}function vr(e,t){const n={};return e.forEach((i,r)=>{i.forEach((a,o)=>{const l=t[r][o];a!=null&&l&&(n[l]=a)})}),n}const zn=RegExp("^[a-z,.'/]$");function Bn(e){const t={[T.SamePosition]:0,[T.SameFinger]:0,[T.SameHand]:0,[T.SwapHands]:0};return Object.entries(e).filter(([i,r])=>zn.test(i)).map(([i,r])=>r).forEach(i=>{t[i]++}),t}function _t(e,t){const n=ie(e,t),i=ie(e,t.comparisonBase??le);return _r(e,n,i)}function Pn(e){return e[T.SameFinger]*.5+e[T.SameHand]*1+e[T.SwapHands]*2}const xt=17,It=.5;function Ge(e,t,n){const i=n.map((o,l)=>2*(It+e.rowStart(l))+ne(o.map((c,h)=>e.keyWidth(l,h)))),r=Math.max(...i);let a=[];for(let o=0;o<5;o++){let l=It+e.rowStart(o);const c=t?0:(r-i[o])/(n[o].length-1);t||(l+=(xt-r)/2),n[o].forEach((h,d)=>{t&&e.splitColumns&&d==e.splitColumns[o]&&(l+=xt-i[o]);const p=e.mainFingerAssignment[o][d];n[o][d]!=null&&a.push({label:h,row:o,col:d,colPos:l,finger:p,hasAltFinger:e.hasAltFinger(o,d)}),l+=e.keyWidth(o,d)+c})}return a}const br=e=>Object.fromEntries(e.map(t=>[t.label,t]));function x(e,t){const n=e.map(i=>[...i]);return t(n)}const Se={E:127,T:91,A:82,O:75,I:70,N:67,S:63,H:61,R:60,D:43,L:40,C:28,U:28,M:24,W:24,F:22,G:20,Y:20,P:19,B:15,",":10,".":10,V:9.8,K:7.7,"-":5,"'":2,J:1.5,X:1.5,Q:1,Z:.7},wr=e=>s("div",{children:s("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 1700 500",class:"keyboard-svg",children:e.children})}),H=100,oe=5,Lt=17,Kt=1;function kr({label:e,row:t,col:n,width:i,height:r,backgroundClass:a,ribbonClass:o,frequencyCircleRadius:l,showHomeMarker:c}){const h=n*H+oe,d=t*H+oe,p=Cn(e)?"keyboard-symbol":Tn(e)?"key-name":"",m=p?s("text",{x:h+H*i/2,y:d+H*r/2,className:"key-label "+p,children:e}):s("text",{x:h+20,y:d+60,className:"key-label",children:e}),f=o&&s("rect",{class:"key-ribbon "+o,x:h+Kt,y:d+Lt,width:H*i-2*(oe+Kt),height:H*r-2*(oe+Lt)}),S=l&&s("circle",{cx:h+70,cy:d+30,r:l,className:"frequency-circle"}),L=c&&s("circle",{cx:h+H/2,cy:d+H/2,r:12,className:"home-marker-circle"});return s("g",{children:[s("rect",{className:"key-outline "+a,x:h,y:d,width:H*i-2*oe,height:H*r-2*oe}),f||S||L,m]})}function $n(e){return e===null||isNaN(e)?"":e<1?"home-key":"effort-"+e*10}const Sr={[T.SamePosition]:void 0,[T.SameFinger]:"same-finger",[T.SameHand]:"same-hand",[T.SwapHands]:"swap-hands"},Nr={[k.LThumb]:"lthumb",[k.RThumb]:"rthumb",[k.LIndex]:"lindex",[k.RIndex]:"rindex",[k.LMiddle]:"middy",[k.RMiddle]:"middy",[k.LRing]:"ringy",[k.RRing]:"ringy",[k.LPinky]:"pinky",[k.RPinky]:"pinky"};function Ar(e,t,n,i){const r=e.mainFingerAssignment[t][n],a=r===null?"":Nr[r],o=ct(e,t,n)?"home-key-border":Mn(i)?"command-key-border":"";return a+" "+o}function Er({layoutModel:e,keyPositions:t,mappingDiff:n,vizType:i}){const r=Rn(e);return t.map(({label:a,row:o,col:l,colPos:c})=>{const h=e.keyColorClass||De,d=Ln(e,o,l),p=Kn(e,o,l),m=Math.max(d,p),f=(i==w.LayoutKeySize?qn(m,r):i==w.LayoutKeyEffort?$n(e.singleKeyEffort[o][l]):i==w.LayoutFingering?Ar(e,o,l,a):ct(e,o,l)?"home-key":h(a,o,l))||(a?"":"unlabeled"),S=i==w.MappingDiff&&zn.test(a)?Sr[n[a]]:void 0;let L;return i==w.MappingFrequeny&&(L=Math.sqrt(Se[a.toUpperCase()]/Se.E)*H/2),i==w.LayoutKeySize&&(a=m>1?m+"":""),s(kr,{label:a,backgroundClass:f,ribbonClass:S,row:o,col:c,width:d,height:p,frequencyCircleRadius:L,showHomeMarker:i==w.LayoutKeySize&&ct(e,o,l)},o+","+l)})}const On={[y.SameRow]:"same-row",[y.NeighboringRow]:"neighboring-row",[y.OppositeRow]:"opposite-row",[y.OppositeLateral]:"opposite-lateral",[y.AltFinger]:"alt-finger",[y.SameFinger]:"same-finger-bigram",[y.OtherHand]:"",[y.InvolvesThumb]:""};function Cr({bigrams:e}){return e.map(t=>{const n=Math.abs(t.a.col-t.b.col);return t.draw&&s("line",{x1:H*(t.a.colPos+.5),y1:H*(t.a.row+.5-n/10),x2:H*(t.b.colPos+.5),y2:H*(t.b.row+.5),className:`bigram-line bigram-rank-${t.rank} `+On[t.type]})})}function Tr({layoutModel:e,layoutSplit:t,keyPositions:n}){const i=n.filter(c=>c.row==u.Home&&c.col<=e.leftHomeIndex&&c.col>e.leftHomeIndex-4).map(c=>c.colPos),r=n.filter(c=>c.row==u.Home&&c.col>=e.rightHomeIndex&&c.col<e.rightHomeIndex+4).map(c=>c.colPos),a=t?[0,0,0,0]:[.5,.25,0,-.25],o=a.map(c=>-c),l=e.symmetricStagger?e.staggerOffsets.map(c=>-c):e.staggerOffsets;return s(K,{children:[s(xe,{homePositions:i,staggerOffsets:a,className:"hand-stagger-line"}),s(xe,{homePositions:r,staggerOffsets:o,className:"hand-stagger-line"}),s(xe,{homePositions:i,staggerOffsets:e.staggerOffsets,className:"stagger-line"}),s(xe,{homePositions:r,staggerOffsets:l,className:"stagger-line"})]})}function xe({homePositions:e,staggerOffsets:t,className:n}){const i=[];return e.forEach(r=>{for(let a=0;a<t.length-1;a++)i.push(s("line",{x1:H*(r+.5+t[a]),y1:H*(a+.5),x2:H*(r+.5+t[a+1]),y2:H*(a+1.5),class:n},`${a},${r}`))}),i}function O({type:e="checkbox",groupName:t,checked:n,disabled:i,label:r,onChange:a}){return s("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},class:i?"disabled":"",children:[s("input",{type:e,name:t,checked:n,onChange:l=>{const c=l.target;a==null||a(c.checked)},disabled:i??!1}),r]})}function Mr(e){const{wide:t,variant:n,split:i,setWide:r,setVariant:a,setSplit:o,mapping:l}=e,c=dr(l.value)||n===E.ANSI_AHKB,h=n===E.ANSI_HHKB,d=[{variant:E.ANSI_IBM,label:"IBM"},{variant:E.ANSI_APPLE,label:"Apple"},{variant:E.ANSI_HHKB,label:"HHKB"},{variant:E.ANSI_AHKB,label:"AHKB"}];return s("div",{class:"ansi-layout-options-container",children:[s(O,{label:"split keyboard",checked:i,onChange:o,disabled:h}),s(O,{label:"use wide key mapping",checked:t,onChange:r,disabled:c}),s("div",{class:"ansi-layout-variant-options",children:d.map(p=>s(O,{type:"radio",groupName:"ansi-variant",label:p.label,checked:n===p.variant,onChange:m=>m&&a(p.variant),disabled:!1},p.variant))})]})}const Un={name:"AHKB, a wide-hand, split space keyboard with traditional typewriter row staggering.",description:"Apple â¤ HHKB: when keyboard layouts meet and mate.",thirtyKeyMapping:[["âŽ‹ Exit","1","2","3","4","5","[","]","6","7","8","9","0","`~"],["â†¹",0,1,2,3,4,"-","=",5,6,7,8,9,"âŒ«"],["âŒ¦",0,1,2,3,4,"â‡¤","â‡¥",5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,"\\",9,5,6,7,8,"â‡§"],["Ctrl","Cmd","CAPS","Alt","âŽ Enter","â½","AltGr","Menu","Fn","Ctrl"]],mainFingerAssignment:[[1,1,1,2,2,3,3,6,6,7,8,8,8,8],[1,0,1,2,3,3,6,6,7,8,9,9,8,8],[0,0,1,2,3,3,3,6,6,7,8,9,9,9],[0,0,1,2,3,3,6,6,6,7,8,9,9],[0,null,null,4,4,5,5,null,null,9]],hasAltFinger:(e,t)=>!1,singleKeyEffort:[[3,3,2,2,3,3,3,3,2,2,3,3,3,3],[3,2,1,1,1.5,1.5,3,3,1.5,1.5,1,1,2,2],[1.5,.2,.2,.2,.2,2,3,3,2,.2,.2,.2,.2,1.5],[1.5,2,2,1.5,1.5,3,3,3,1.5,1,1.5,1.5,1],[2,null,null,1,.2,.2,1,null,null,2]],rowStart:e=>e==u.Bottom?.5:e>=u.Home?.25:0,keyWidth(e,t){const n=Un.thirtyKeyMapping[e].length-1;switch(e){case u.Number:return t==0?1.5:1;case u.Upper:return t==n?1.5:1;case u.Home:return 1;case u.Lower:return t==0||t==n?1.5:1;case u.Bottom:const i=t>4?9-t:t;return[1.25,1.25,1.25,1.5,1.5][i]}},keyColorClass(e,t,n){return e==="â†¹"?"":e.includes("âŽ")||e.includes("âŽ‹")||e.includes("âŒ¦")||e.includes("âŒ«")?ke.HIGHLIGHT:e.includes("â½")?ke.EDGE:De(e)},splitColumns:[7,6,6,6,4],leftHomeIndex:4,rightHomeIndex:9,staggerOffsets:[-.75,-.25,0,.5],symmetricStagger:!1,getSpecificMapping:e=>{}};function Hr(e){let t=e.ansiWide?xr:G;switch(e.ansiVariant){case E.ANSI_IBM:break;case E.ANSI_APPLE:t={...t,keyboardWidth:14.5};break;case E.ANSI_HHKB:t=Fr(t);break;case E.ANSI_AHKB:return Un}return e.ansiSplit?Kr(t):t}const Ft=[1,1.5,1.75,2.25],G={name:"ANSI / Typewriter",description:`The ANSI keyboard layout is based on a typewriter keyboard from the 19th century which gradually evolved to add some computer-specific keys like Ctrl, Alt, and most importantly the @ sign. This layout has keys of widely varying widths and an awkward stagger of 0.5, 0.25, and again 0.5 between the rows. This curiosity still dates back to old typewriter days when each key's middle needed to have a non-intersecting lever underneath to operate its type element. To make this ancient layout a bit more user-friendly, some smart people have come up with the "wide key mapping" variant, which moves the right hand's home position by one key to the right. Most keys move together with this hand position so that muscle memory is strongly preserved. While it might look very unusual, it actually is very easy to get used to. And this setup makes it easier to switch between a laptop and an ergonomic split keyboard. `,keyboardWidth:15,thirtyKeyMapping:[["`~","1","2","3","4","5","6","7","8","9","0","-","=","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,"[","]","\\"],["CAPS",0,1,2,3,4,5,6,7,8,9,"'","âŽ"],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["Ctrl","Cmd","Alt","â½","AltGr","Menu","Fn","Ctrl"]],fullMapping:[["`~","1","2","3","4","5","6","7","8","9","0",0,1,"âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,10,11,12],["CAPS",0,1,2,3,4,5,6,7,8,9,10,"âŽ"],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["Ctrl","Cmd","Alt","â½",0,1,"Fn","Ctrl"]],mainFingerAssignment:[[1,1,1,2,2,3,3,6,6,7,8,8,8,8],[1,0,1,2,3,3,6,6,7,8,9,9,8,8],[0,0,1,2,3,3,6,6,7,8,9,9,9],[0,0,1,2,3,3,6,6,7,8,9,9],[0,0,1,5,7,8,9,9]],hasAltFinger:(e,t)=>e==u.Lower&&[1,2,3,7,8,9].includes(t),singleKeyEffort:[[3,3,2,2,3,3,3,3,2,2,3,3,3,3],[3,2,1,1,1.5,1.5,1.5,1.5,1,1,2,2,3,3],[1.5,.2,.2,.2,.2,2,2,.2,.2,.2,.2,1.5,2],[1.5,2,2,1.5,1.5,3,1.5,1,1.5,1.5,1,2],[NaN,NaN,NaN,.2,1.5,NaN,NaN,NaN]],rowStart:e=>0,keyWidth(e,t){const n=G.thirtyKeyMapping[e].length;if(e==u.Bottom)return t==3?this.keyboardWidth-7*1.25:1.25;if(t==0)return Ft[e];if(t==n-1){const i=n-2;return this.keyboardWidth-i-Ft[e]}return 1},keyColorClass:(e,t,n)=>e=="âŽ"?ke.EDGE:De(e),splitColumns:[7,6,6,6,4],leftHomeIndex:4,rightHomeIndex:7,staggerOffsets:[-.75,-.25,0,.5],symmetricStagger:!1,getSpecificMapping:e=>e.mappingAnsi},xr={...G,name:"ANSI with wide hand position",rightHomeIndex:8,thirtyKeyMapping:[["`~","1","2","3","4","5","6","=","7","8","9","0","-","âŒ«"],["â†¹",0,1,2,3,4,"[",5,6,7,8,9,"'","\\"],["CAPS",0,1,2,3,4,"]",5,6,7,8,9,"âŽ"],["â‡§",0,1,2,3,4,9,5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","â½","AltGr","Menu","Fn","Ctrl"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","6","`~","7","8","9","0","=","âŒ«"],["â†¹",0,1,2,3,4,"[",5,6,7,8,9,"'","\\"],["CAPS",0,1,2,3,4,"]",5,6,7,8,9,"âŽ"],["â‡§",0,1,2,3,4,"/",5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","â½",0,"AltGr","Fn","Ctrl"]],fullMapping:[["`~","1","2","3","4","5","6",0,"7","8","9","0",1,"âŒ«"],...G.fullMapping.slice(1)],mainFingerAssignment:[[1,1,1,2,2,3,3,6,6,6,7,8,8,8],[1,0,1,2,3,3,3,6,6,7,8,9,9,8],[0,0,1,2,3,3,6,6,6,7,8,9,9],[0,0,1,2,3,3,6,6,6,7,8,9],[0,0,1,4,5,8,9,9]],hasAltFinger:(e,t)=>e==u.Lower&&[1,2,3,8,9,10].includes(t),singleKeyEffort:Ir(Lr(G.singleKeyEffort,G.splitColumns)),getSpecificMapping:e=>e.mappingAnsiWide};function Ir(e){return G.splitColumns.forEach((t,n)=>{if(n!=u.Bottom){const i=G.thirtyKeyMapping[n].length-1;e[n][i]=e[n][t],e[n][t]=we}}),e[u.Bottom][4]=te,e}function Lr(e,t){const n=[5,7,5,4];return e.map((i,r)=>{if(!n[r])return[...i];const a=t[r]+n[r];return[i.slice(0,t[r]),i[a],i.slice(t[r],a),i.slice(a+1)].flat()})}const Kr=e=>{const n=fe(e.mainFingerAssignment,u.Bottom,3);return n[u.Bottom][3]=k.LThumb,e.name.includes("wide")&&(n[u.Upper][6]=k.RIndex),{...e,fullMapping:e.fullMapping&&fe(e.fullMapping,u.Bottom,3),thirtyKeyMapping:e.thirtyKeyMapping&&fe(e.thirtyKeyMapping,u.Bottom,3),thumb30KeyMapping:e.thumb30KeyMapping&&fe(e.thumb30KeyMapping,u.Bottom,3),singleKeyEffort:fe(e.singleKeyEffort,u.Bottom,3),keyWidth:(i,r)=>i!=u.Bottom||r<3||r>4?e.keyWidth(i,r):e.keyWidth(i,3)/2,mainFingerAssignment:n}};function fe(e,t,n){const i=e[t];return[...e.slice(0,t).map(r=>[...r]),[...i.slice(0,n),i[n],i[n],...i.slice(n+1)]]}function Fr(e){return{...e,name:e.name.replace("ANSI","Happy Hacker Keyboard"),thirtyKeyMapping:x(e.thirtyKeyMapping,Rt),thumb30KeyMapping:void 0,fullMapping:e.fullMapping&&x(e.fullMapping,Rt),mainFingerAssignment:x(e.mainFingerAssignment,t=>(t[u.Number].push(k.RRing),t[u.Lower].push(null),t[u.Bottom]=[null,k.LPinky,k.LRing,k.RThumb,k.RMiddle,k.RRing,null],t)),singleKeyEffort:x(e.singleKeyEffort,t=>(t[u.Number].push(we),t[u.Lower].push(null),t[u.Bottom]=[null,null,null,te,null,null,null],t)),keyWidth(t,n){switch(t){case u.Number:return 1;case u.Lower:const i=e.thirtyKeyMapping[t].length;switch(n){case i:return 1;case i-1:return e.keyWidth(t,n)-1}break;case u.Bottom:return[1.5,1,1.5,6,1.5,1,2.5][n]}return e.keyWidth(t,n)},getSpecificMapping:t=>t.mappingAnsi}}function Rt(e){e[u.Number].pop();const t=e[u.Upper].pop(),n=typeof t=="number"?[1,t]:t;return e[u.Number].push(n),e[u.Number].push("`~"),e[u.Home][0]="Ctrl",e[u.Upper].push("âŒ«"),e[u.Lower].push("Fn"),e[u.Bottom]=[null,"Alt","Cmd","â½","Cmd","Alt",null],e}const qt={name:"Ortholinear",description:"Ortholinear keyboards remove the weird row stagger and usually also use uniform key sizes. Those are just as easy to use, but save a lot of space and also allow for easy changing of the key mapping. The layout shown here corresponds to the Preonic, one of several similar available designs. ",thirtyKeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,"'"],["CAPS",0,1,2,3,4,5,6,7,8,9,"âŽ"],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["Ctrl","Cmd","`","-","Alt","â½","AltGr","=","\\","Fn","Ctrl"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,"'"],["CAPS",0,1,2,3,4,5,6,7,8,9,"âŽ"],["â‡§",0,1,2,3,4,5,6,7,8,"/","â‡§"],["Ctrl","Cmd","`","=","Alt","â½",0,"AltGr","\\","Fn","Ctrl"]],fullMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,10],["CAPS",0,1,2,3,4,5,6,7,8,9,"âŽ"],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["Ctrl","Cmd",0,1,"Alt","â½","AltGr",2,3,"Fn","Ctrl"]],rowStart:e=>0,keyWidth:(e,t)=>e==u.Bottom&&t==5?2:1,splitColumns:[6,6,6,6,6],leftHomeIndex:4,rightHomeIndex:7,staggerOffsets:[0,0,0,0],symmetricStagger:!0,mainFingerAssignment:[[1,1,1,2,2,3,6,7,7,8,8,8],[0,0,1,2,3,3,6,6,7,8,9,9],[0,0,1,2,3,3,6,6,7,8,9,9],[0,0,1,2,3,3,6,6,7,8,9,9],[0,0,1,2,4,5,5,7,8,9,9]],hasAltFinger:(e,t)=>!1,singleKeyEffort:[[NaN,3,2,2,3,3,3,3,2,2,3,NaN],[NaN,1.5,1,1,1.5,1.5,1.5,1.5,1,1,1.5,2],[NaN,.2,.2,.2,.2,1,1,.2,.2,.2,.2,1.5],[NaN,1,1.5,1.5,1,2,2,1,1.5,1.5,1,NaN],[NaN,2,2,1.5,1.5,.2,1.5,1.5,2,2,NaN]],getSpecificMapping:e=>{}},Rr={...qt,name:"Split Ergonomic",description:"The Ortholinear key layout is especially popular with two-piece keyboards. This allows to position and rotate the two keyboard halves to make columns line up exactly with your finger's natural extension movement. Most split models include at least two thumb keys on each side that users can map to any function they want. The layout shown here is not too different to the Iris CE, a 56-key split keyboard which is incidentally the one that I used for coding this app. ",thirtyKeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,"-"],["CAPS",0,1,2,3,4,5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["Ctrl","Cmd","=","\\","Alt","â½","âŽ","AltGr","Menu","`","Fn","Ctrl"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["Ctrl",0,1,2,3,4,5,6,7,8,"/","Ctrl"],["Cmd","","`","=","Alt","â½","âŽ",0,"AltGr","Menu","\\","Fn"]],fullMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,10],["CAPS",0,1,2,3,4,5,6,7,8,9,10],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["Ctrl","Cmd",0,"Alt",1,"â½","âŽ",2,"AltGr",3,"Fn","Ctrl"]],rowStart:e=>e==u.Bottom?1:0,keyWidth:(e,t)=>1,mainFingerAssignment:[[1,1,2,2,3,3,6,6,7,7,8,8],[0,0,1,2,3,3,6,6,7,8,9,9],[0,0,1,2,3,3,6,6,7,8,9,9],[0,0,1,2,3,3,6,6,7,8,9,9],[0,1,2,4,4,4,5,5,5,7,8,9]],singleKeyEffort:(e=>[...e.slice(0,4),[NaN,2,2,1.5,.2,.2,.2,.2,1.5,2,2,NaN]])(qt.singleKeyEffort),getSpecificMapping:e=>e.mappingSplitOrtho},Wt=[["Esc","1","2","3","4","5","6","7","8","9","0",0,1],["â†¹",0,1,2,3,4,5,6,7,8,9,"âŒ«"],[0,1,2,3,4,5,6,7,8,9,10,11,12],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["Ctrl","Cmd","Alt",0,"â½","âŽ",1,"AltGr","Fn","Ctrl"]],jn={name:"Harmonic 13 Balance",description:"The Harmonic keyboard layout has a fully symmetric keyboard with only two key sizes to allow for flexible changes to the key mapping. Its regular row stagger allows for many keys to be comfortably typed by two fingers, which let's you intuitively avoid the awkward same-finger bigrams that make new key mappings feel so awkward. Using mostly square keys makes the board slightly narrower than an ANSI-based 60% keyboard, yet the hand home position is one key further apart, allowing for arms to relax and shoulders to open. This also puts a bit of typing load on the index fingers and less on the pinkies. ",thirtyKeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","-","="],["â†¹",1,2,3,4,"`",5,6,7,8,9,"âŒ«"],[[-1,0],0,1,2,3,4,"\\",5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,9,5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","[","â½","âŽ","]","AltGr","Fn","Ctrl"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","[","]"],["â†¹",1,2,3,4,"=",5,6,7,8,9,"âŒ«"],[[-1,0],0,1,2,3,4,"`",5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,"/",5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","\\","â½","âŽ",0,"AltGr","Fn","Ctrl"]],fullMapping:Wt,rowStart:e=>e==u.Bottom?.5:0,keyWidth:(e,t)=>(e==u.Upper||e==u.Lower||e==u.Bottom)&&(t==0||t==Wt[e].length-1)||e==u.Bottom&&(t==4||t==5)?1.5:1,splitColumns:[7,6,6,6,5],leftHomeIndex:4,rightHomeIndex:8,staggerOffsets:Ee,symmetricStagger:!0,mainFingerAssignment:[[1,1,2,2,3,3,3,6,6,7,7,8,8],[0,1,1,2,3,3,6,6,7,8,8,9],[0,0,1,2,3,3,6,6,6,7,8,9,9],[0,1,2,3,3,3,6,6,6,7,8,9],[0,1,2,4,4,5,5,7,8,9]],hasAltFinger:(e,t)=>(e==u.Upper||e==u.Lower)&&[1,2,3,8,9,10].includes(t),singleKeyEffort:[[3,3,2,2,2,3,3,3,2,2,2,3,3],[NaN,1.5,1,1,1.5,2,2,1.5,1,1,1.5,NaN],[1.5,.2,.2,.2,.2,2,3,2,.2,.2,.2,.2,1.5],[NaN,1.5,1.5,1.5,1.5,3,3,1.5,1.5,1.5,1.5,NaN],[NaN,NaN,NaN,1,.2,1,.2,NaN,NaN,NaN]],getSpecificMapping:e=>e.mappingHarmonic13wide};({...jn});const Je=[["Esc","1","2","3","4","5","6","7","8","9","0",0,"âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,10,11,12],["Â¤",0,1,2,3,4,5,6,7,8,9,10,"âŽ"],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["Ctrl","Cmd","Alt",0,"âŒ¦","â½",1,2,3,"Fn","Ctrl"]],qr={name:"Harmonic 14 Traditional",description:"With its large shift keys and Enter/Backspace/Caps in the same position as the ANSI keyboard, this Harmonic variant might be the easiest to get used to. We even put a central space bar for that special retro feeling. But other than that we keep the Harmonic virtues of a fully symmetric keyboard and only two key sizes for all remaining keys to allow for flexible changes to the key mapping. Its regular row stagger allows for many keys to be comfortably typed by two fingers, which let's you intuitively avoid the awkward same-finger bigrams that make new key mappings feel so awkward. Despite its size, the H14T is still one key unit narrower than an ANSI-based 60% keyboard, yet the hand home position is one key further apart, allowing for arms to relax and shoulders to open. This also puts a bit of typing load on the index fingers and less on the pinkies. ",thirtyKeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","=","âŒ«"],["â†¹",0,1,2,3,4,"`",5,6,7,8,9,"'","\\"],["Â¤",0,1,2,3,4,"-",5,6,7,8,9,"âŽ"],["â‡§",0,1,2,3,4,9,5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","[","âŒ¦","â½","AltGr","]","Menu","Fn","Ctrl"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","`","âŒ«"],["â†¹",0,1,2,3,4,"=",5,6,7,8,9,"'","\\"],["Â¤",0,1,2,3,4,"[",5,6,7,8,9,"âŽ"],["â‡§",0,1,2,3,4,"]",5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","/","âŒ¦","â½",0,"AltGr","Menu","Fn","Ctrl"]],fullMapping:Je,rowStart:e=>0,keyWidth:(e,t)=>(e==u.Number||e==u.Home)&&(t==0||t==Je[e].length-1)?1.5:e==u.Lower&&(t==0||t==Je[e].length-1)?2:e==u.Bottom?[1.5,1,1,1,1,3,1,1,1,1,1.5][t]:1,splitColumns:[7,7,6,6,5],leftHomeIndex:4,rightHomeIndex:8,staggerOffsets:Ee,symmetricStagger:!0,mainFingerAssignment:[[1,1,2,2,3,3,3,6,6,7,7,8,8],[1,0,1,1,2,3,3,6,6,7,8,8,9,8],[0,0,1,2,3,3,6,6,6,7,8,9,9],[0,1,2,3,3,3,6,6,6,7,8,9],[0,1,2,2,4,5,5,7,7,8,9]],hasAltFinger:(e,t)=>(e==u.Upper||e==u.Lower)&&[1,2,3,9,10,11].includes(t),singleKeyEffort:[[NaN,3,2,2,2,3,3,3,2,2,2,3,NaN],[3,1.5,1.5,1,1,1.5,2,2,1.5,1,1,1.5,1.5,3],[1,.2,.2,.2,.2,2,3,2,.2,.2,.2,.2,1],[1,1.5,1.5,1,1.5,3,3,1.5,1,1.5,1.5,1],[NaN,NaN,1.5,1,.2,1,.2,1,1.5,NaN,NaN]],getSpecificMapping:e=>e.mappingHarmonic14t},zt=[["Esc","1","2","3","4","5","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,10,11],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["â‡¤",0,1,2,3,4,5,6,7,8,9,10,"â‡¥"],["Ctrl","Cmd","Alt",0,"â½","âŽ",1,"AltGr","Fn","Ctrl"]],Wr={name:"Harmonic 13 MidShift",description:`The Harmonic MidShift variant will be interesting for all fans of the "angle mod" â€“ moving the left-bottom row one step to the left to type it with the same staggering angle as the right bottom. The Harmonic MidShift solves the angle-mod dilemma of the far-away shift key by moving said key to the home row. It is also an excellent choice for people who have set up their split ortho keyboards with home-row shift keys. Generally, the Harmonic keyboard layout is fully symmetric with only two key sizes to allow for flexible changes to the key mapping. Its regular row stagger allows for many keys to be comfortably typed by two fingers, which let's you intuitively avoid the awkward same-finger bigrams that make new key mappings feel so awkward. Using mostly square keys makes the board slightly narrower than an ANSI-based 60% keyboard, yet the hand home position is one key further apart, allowing for arms to relax and shoulders to open. This also puts a bit of typing load on the index fingers and less on the pinkies. `,thirtyKeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,"'","="],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["â‡¤",0,1,2,3,4,"-",5,6,7,8,9,"â‡¥"],["Ctrl","Cmd","Alt","[","â½","âŽ","]","AltGr","Fn","Ctrl"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,5,6,7,8,9,"'","="],["â‡§",0,1,2,3,4,5,6,7,8,9,"â‡§"],["â‡¤",0,1,2,3,4,"\\",5,6,7,8,"/","â‡¥"],["Ctrl","Cmd","Alt","`","â½","âŽ",0,"AltGr","Fn","Ctrl"]],fullMapping:zt,rowStart:e=>0,keyWidth:(e,t)=>(e==u.Number||e==u.Home||e==u.Bottom)&&(t==0||t==zt[e].length-1)||e==u.Bottom&&[3,4,5,6].includes(t)?1.5:1,splitColumns:[6,6,6,7,5],leftHomeIndex:4,rightHomeIndex:7,staggerOffsets:Ee,symmetricStagger:!0,mainFingerAssignment:[[1,1,2,2,3,3,6,6,7,7,8,8],[1,0,0,1,2,3,6,6,7,8,9,9,8],[0,0,1,2,3,3,6,6,7,8,9,9],[0,0,1,2,3,3,3,6,6,7,8,9,9],[0,1,2,4,4,5,5,7,8,9]],hasAltFinger:(e,t)=>(e==u.Upper||e==u.Lower)&&[1,2,3,8,9,10].includes(t),singleKeyEffort:[[NaN,3,2,2,2,3,3,2,2,2,3,NaN],[NaN,1.5,1.5,1,1,1.5,2,1.5,1,1,1.5,1.5,3],[NaN,.2,.2,.2,.2,2,2,.2,.2,.2,.2,NaN],[3,1.5,1.5,1.5,1,1.5,3,1.5,1,1.5,1.5,1.5,3],[NaN,NaN,NaN,1.5,.2,.2,1.5,NaN,NaN,NaN]],getSpecificMapping:e=>{}},Bt=[["Esc","1","2","3","4","5","6","7","8","9","0",0],["â†¹",0,1,2,3,4,5,6,7,8,"âŒ«"],[0,1,2,3,4,5,6,7,8,9,10,11],["â‡§",0,1,2,3,4,5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt",0,"â½","âŽ",1,"AltGr","Fn","Ctrl"]],zr={name:"Harmonic 12 Mini",description:"The smallest variant of the Harmonic keyboard family is especially useful for use with tablets, mobile phones, or for people who mainly write plain English. But all ANSI punctuation is available on the AltGr layer. Like all Harmonic keyboard variants it has a fully symmetric shape with only two key sizes to allow for flexible changes to the key mapping. Its regular row stagger allows for many keys to be comfortably typed by two fingers, which let's you intuitively avoid the awkward same-finger bigrams that make new key mappings feel so awkward. The H12 is three full key units narrower than an ANSI-based 60% keyboard, yet has the same key dimensions and only 5 keys less. ",thirtyKeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","="],["â†¹",1,2,3,4,5,6,7,8,9,"âŒ«"],[[-1,0],0,1,2,3,4,5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","-","â½","âŽ",[-1,9],"AltGr","Fn","Ctrl"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","="],["â†¹",1,2,3,4,5,6,7,8,9,"âŒ«"],[[-1,0],0,1,2,3,4,5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","/","â½","âŽ",0,"AltGr","Fn","Ctrl"]],fullMapping:Bt,rowStart:e=>0,keyWidth:(e,t)=>(e==u.Upper||e==u.Lower||e==u.Bottom)&&(t==0||t==Bt[e].length-1)||e==u.Bottom&&[4,5].includes(t)?1.5:1,splitColumns:[6,6,6,5,5],leftHomeIndex:4,rightHomeIndex:7,staggerOffsets:Ee,symmetricStagger:!0,mainFingerAssignment:[[1,1,2,2,3,3,6,6,7,7,8,8],[0,0,1,2,3,3,6,7,8,9,9],[0,0,1,2,3,3,6,6,7,8,9,9],[0,1,2,3,3,6,6,6,7,8,9],[0,1,2,4,4,5,5,7,8,9]],hasAltFinger:(e,t)=>(e==u.Upper||e==u.Lower)&&[1,2,3,8,9,10].includes(t),singleKeyEffort:[[NaN,3,2,2,2,3,3,2,2,2,3,3],[NaN,1.5,1,1,1.5,2,1.5,1,1,1.5,NaN],[1.5,.2,.2,.2,.2,2,2,.2,.2,.2,.2,1.5],[NaN,1.5,1.5,1,1.5,3,1.5,1,1.5,1.5,NaN],[NaN,NaN,NaN,1,.2,.2,1,NaN,NaN,NaN]],getSpecificMapping:e=>{}},Pt=[["Esc","1","2","3","4","5","6","7","8","9","0",0,1,2],["â†¹",0,1,2,3,4,5,6,7,8,9,10,"âŒ«"],[0,1,2,3,4,5,6,7,8,9,10,11,12,13],["â‡§",0,1,2,3,4,5,6,7,8,9,10,"â‡§"],["Ctrl","Cmd","Alt",0,"â½","âŽ",1,2,"Fn","Ctrl"]],Br={name:"Harmonic 14 Macro",description:"Our biggest Harmonic variant, which has a lot of extra keys to use for navigation and other things. The Harmonic keyboard layout has a fully symmetric keyboard with only two key sizes to allow for flexible changes to the key mapping. Its regular row stagger allows for many keys to be comfortably typed by two fingers, which let's you intuitively avoid the awkward same-finger bigrams that make new key mappings feel so awkward. Using mostly square keys makes the board slightly narrower than an ANSI-based 60% keyboard, yet the hand home position is one key further apart, allowing for arms to relax and shoulders to open. This also puts a bit of typing load on the index fingers and less on the pinkies. ",thirtyKeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","-","=","`"],["â†¹",1,2,3,4,"[","]",5,6,7,8,9,"âŒ«"],[[-1,0],0,1,2,3,4,"â‡¤","â‡¥",5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,"\\",9,5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","âŒ¦","â½","âŽ","AltGr","Menu","Fn","Ctrl"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","6","7","8","9","0","=","`",""],["â†¹",1,2,3,4,"[","]",5,6,7,8,9,"âŒ«"],[[-1,0],0,1,2,3,4,"â‡¤","â‡¥",5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,"\\","/",5,6,7,8,"â‡§"],["Ctrl","Cmd","Alt","âŒ¦","â½","âŽ",0,"AltGr","Fn","Ctrl"]],fullMapping:Pt,rowStart:e=>e==u.Bottom?.5:0,keyWidth:(e,t)=>(e==u.Upper||e==u.Lower||e==u.Bottom)&&(t==0||t==Pt[e].length-1)?1.5:e==u.Bottom&&(t==4||t==5)?2:1,splitColumns:[7,6,7,7,5],leftHomeIndex:4,rightHomeIndex:9,staggerOffsets:Ee,symmetricStagger:!0,mainFingerAssignment:[[1,1,1,2,2,3,3,6,6,7,7,8,8,8],[1,0,1,2,3,3,6,6,6,7,8,8,9],[0,0,1,2,3,3,3,6,6,6,7,8,9,9],[0,1,2,3,3,3,3,6,6,6,7,8,9],[0,1,2,4,4,5,5,7,8,9]],hasAltFinger:(e,t)=>(e==u.Upper||e==u.Lower)&&[1,2,3,9,10,11].includes(t),singleKeyEffort:[[NaN,3,2,2,2,3,3,3,3,2,2,2,3,3],[1.5,1.5,1,1,1.5,2,3,2,1.5,1,1,1.5,1.5],[1,.2,.2,.2,.2,2,3,3,2,.2,.2,.2,.2,1],[1,1.5,1.5,1,1.5,3,3,3,1.5,1,1.5,1.5,1],[NaN,NaN,1.5,1,.2,.2,1,1.5,NaN,NaN]],getSpecificMapping:e=>{}},Pr=[1,1.5,1.25,1],Dn={name:"Katana 60",description:`The original "Katana" design by RominRonin. 
    An ergonomic keyboard layout that fits into a standard ANSI 60% case.
    Symmetric 0.25 stagger and a hand distance similar to MS Ergonomic Keyboard. `,thirtyKeyMapping:[["Esc","`~","1","2","3","4","5","lock","6","7","8","9","0","-","="],["â†¹",0,1,2,3,4,"[","]",5,6,7,8,9,"âŒ«"],["'",0,1,2,3,4,"â‡¤",null,"â‡ž",5,6,7,8,9,"âŽ"],["â‡§",0,1,2,3,4,"â‡¥","ins","â‡Ÿ",5,6,7,8,9,"â‡§"],["Fn","Ctrl","Cmd","Alt","â½","âŒ¦","â½","AltGr","â†","â†‘","â†“","â†’"]],fullMapping:[],mainFingerAssignment:[[1,1,1,2,2,3,3,6,6,6,7,8,8,8,8],[1,0,1,2,3,3,3,6,6,6,7,8,9,9],[0,0,1,2,3,3,3,6,6,6,6,7,8,9,9],[0,0,1,2,3,3,3,6,6,6,6,7,8,9,9],[0,1,2,4,4,5,5,5,6,7,8,9]],hasAltFinger:(e,t)=>e==u.Lower&&[1,2,3,7,8,9].includes(t),singleKeyEffort:[[3,3,2,2,2,3,3,3,3,3,2,2,2,3,3],[2,2,1,1,1.5,2,3,3,2,1.5,1,1,2,2],[1.5,.2,.2,.2,.2,2,3,3,3,2,.2,.2,.2,.2,1.5],[2,1,1.5,1.5,1,2,3,3,3,2,1,1.5,1.5,1,2],[3,3,2,1,.2,1.5,.2,1,null,null,null,null]],rowStart:e=>0,keyWidth:(e,t)=>{const n=Dn.thirtyKeyMapping[e].length;return e==u.Bottom?t==0||t==5||t>=7?1:t==4?2.25:t==6?2:1.25:t==0||t==n-1?Pr[e]:e==u.Home&&t==7?.5:1},leftHomeIndex:4,rightHomeIndex:10,staggerOffsets:[.75,.25,0,-.25],symmetricStagger:!0,getSpecificMapping:e=>{}},D={name:"Ergoplank 60 ANSI angle",description:`"The most ergonomic key layout that fits into a standard "60%" keyboard case."
    Hand distance is maximized. Row stagger is equal to a "cleave-style ergonomic" keyboard.
    Thumb keys are added. 
    Key cap sizes are harmonized to facilitate customizing the keymap. 
    This is based on the "Harmonic" layout as well as the "Katana" design by RominRonin. 
    Biggest difference to the Katana is that the Shift keys are closer to the Pinky home position.
    This is achieved by making the Shift keys bigger and the home row edge key minimally small, i.e. 1u.`,thirtyKeyMapping:[["Esc","1","2","3","4","5","[","]","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,"-",null,"=",5,6,7,8,9,"\\"],["âŒ¦",0,1,2,3,4,"â‡¤","`~","â‡¥",5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,"â‡ž","â‡Ÿ",9,5,6,7,8,"â‡§"],["Ctrl","Cmd","Fn","Alt","âŽ","","â½","AltGr","Menu","Cmd","Ctrl"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","[","]","6","7","8","9","0","âŒ«"],["â†¹",0,1,2,3,4,"=",null,"\\",5,6,7,8,9,"âŽ"],["âŒ¦",0,1,2,3,4,"â‡¤","`~","â‡¥",5,6,7,8,9,"'"],["â‡§",0,1,2,3,4,"â‡ž","â‡Ÿ","/",5,6,7,8,"â‡§"],["Ctrl","Cmd","Fn","Alt",0,"","â½","AltGr","Menu","Cmd","Ctrl"]],mainFingerAssignment:[[1,1,1,2,3,3,3,6,6,6,7,8,8,8],[1,0,1,2,3,3,3,null,6,6,6,7,8,9,9],[0,0,1,2,3,3,3,6,6,6,6,7,8,9,9],[0,1,2,3,3,3,3,6,6,6,6,7,8,9],[0,1,2,4,4,5,5,5,7,8,9]],hasAltFinger:(e,t)=>e==u.Lower&&[1,2,3,7,8,9].includes(t),singleKeyEffort:[[3,3,2,2,3,3,3,3,3,3,2,2,3,3],[2,2,1,1,1.5,2,3,3,3,2,1.5,1,1,2,2],[1.5,.2,.2,.2,.2,2,3,3,3,2,.2,.2,.2,.2,1.5],[1,1.5,1.5,1,2,3,3,3,3,2,1,1.5,1.5,1],[3,3,2,1.5,.2,1.5,.2,1.5,2,3,3]],rowStart:e=>e>=u.Lower?.25:0,keyWidth:(e,t)=>{const n=D.thirtyKeyMapping[e].length;if(e==u.Bottom)switch(t){case 4:case 6:return 1.5;default:return 1.25}const i=[1.5,1.25,1,1.25];return t==0||t==n-1?i[e]:e==u.Upper&&t==7?.5:1},leftHomeIndex:4,rightHomeIndex:10,staggerOffsets:[.5,.25,0,-.5],symmetricStagger:!0,getSpecificMapping:e=>{},keyColorClass:Ce};function $r(e){return{...e,name:"Ergoplank 60",thirtyKeyMapping:x(e.thirtyKeyMapping,Xe),thumb30KeyMapping:x(e.thumb30KeyMapping,Xe),fullMapping:e.fullMapping&&x(e.fullMapping,Xe)}}function Xe(e){e[u.Home][0]=[1,0],e[u.Home][7]="âŒ¦";const t=e[u.Lower],n=6;return e[u.Lower]=["â‡§",...t.slice(2,n),"`~",...t.slice(n)],e}const Gn={...D,name:"Ergoplank 60 with cursor block",thirtyKeyMapping:Ie(D.thirtyKeyMapping,[null,"Ctrl","Cmd","AltGr","Alt","âŽ","Fn","â½","Ctrl",null,"â†","â†‘","â†“","â†’"]),thumb30KeyMapping:Ie(D.thumb30KeyMapping,[null,"Ctrl","Cmd","AltGr","Alt",0,"Fn","â½","Ctrl",null,"â†","â†‘","â†“","â†’"]),singleKeyEffort:Ie(D.singleKeyEffort,[null,3,3,2,1.5,.2,1.5,.2,1.5,null,null,null,null,null]),mainFingerAssignment:Ie(D.mainFingerAssignment,[null,0,1,2,4,4,5,5,5,null,null,null,null,null]),rowStart:e=>e==u.Lower?.25:0,keyWidth:(e,t)=>{if(e==u.Bottom){if(t>9)return 1;if(t>0&&t<4)return 1.25+.25/3;switch(t){case 0:case 9:return .25;case 5:case 7:return 1.5;case 6:return 1;default:return 1.25}}return D.keyWidth(e,t)},keyCapWidth:(e,t)=>e==u.Bottom&&t>0&&t<4?1.25:Gn.keyWidth(e,t)};function Ie(e,t){return[...e.slice(0,-1),t]}const Qn={name:"Ergoboard 65 LowShift Wide",description:"Widest possible hand position with the arrow cluster and lower row Shift keys.",thirtyKeyMapping:[["Esc","1","2","3","4","5","`~",null,"6","7","8","9","0","=","â‡ž","â‡Ÿ"],["â†¹",0,1,2,3,4,"[","]",5,6,7,8,9,"-","âŽ"],["âŒ¦",0,1,2,3,4,"â‡¤",null,"â‡¥",5,6,7,8,9,"'","âŒ«"],[null,"â‡§",1,2,3,4,0,"\\",9,5,6,7,8,"â‡§","â†‘",null],[null,"Ctrl","Cmd","CAPS","Alt","â½","â½","AltGr","Fn","Ctrl",null,"â†","â†“","â†’"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","`~",null,"6","7","8","9","0","","â‡ž","â‡Ÿ"],["â†¹",0,1,2,3,4,"[","]",5,6,7,8,9,"=","âŽ"],["âŒ¦",0,1,2,3,4,"â‡¤",null,"â‡¥",5,6,7,8,9,"'","âŒ«"],[null,"â‡§",1,2,3,0,4,"\\","/",5,6,7,8,"â‡§","â†‘",null],[null,"Ctrl","Cmd","CAPS","Alt",0,"â½","AltGr","Fn","Ctrl",null,"â†","â†“","â†’"]],fullMapping:[],mainFingerAssignment:[[1,1,1,1,2,3,3,3,6,6,7,8,8,8,null,null],[0,0,1,2,3,3,3,6,6,6,7,8,9,9,9],[0,0,1,2,3,3,3,null,6,6,6,7,8,9,9,9],[0,0,1,2,3,3,3,3,6,6,6,7,8,9,null,null],[null,0,1,2,4,4,5,5,null,7,null,null,null,null]],hasAltFinger:(e,t)=>e==u.Lower&&[1,2,3,7,8,9].includes(t),singleKeyEffort:[[null,3,2,2,3,3,3,3,3,3,2,2,3,3,null,null],[2,2,1,1,1.5,2,3,3,2,1.5,1,1,2,2,3],[1.5,.2,.2,.2,.2,2,3,null,3,2,.2,.2,.2,.2,1.5,2],[3,1,1.5,1.5,1,2,3,3,3,2,1,1.5,1.5,1,null,null],[null,1.5,2,2,1,.2,.2,1,null,2,null,null,null,null]],rowStart:e=>0,keyWidth:(e,t)=>{const n=Qn.thirtyKeyMapping[e].length-1;switch(e){case u.Number:switch(t){case 0:return 1.5;case 7:return .5}return 1;case u.Upper:switch(t){case 0:return 1.25;case n:return 1.75}return 1;case u.Home:switch(t){case 7:return .5;case n:return 1.5}return 1;case u.Lower:switch(t){case 0:return .5;case 1:case 13:return 1.25}return 1;case u.Bottom:const i=10;switch(t){case 0:return .5;case 5:case 6:return 1.75;case 8:return 1;case i:return .5}return t>i?1:1.25;default:return 1}},leftHomeIndex:4,rightHomeIndex:10,staggerOffsets:[.5,.25,0,-.5],symmetricStagger:!0,getSpecificMapping:e=>{},keyColorClass:Ce},q={name:"Ergoboard 65 LowShift Narrow",description:`"The most ergonomic key layout that fits into a standard "65%" keyboard case 
    and has a traditional inverted-T arrow key cluster."
    Hand distance is still much better than ANSI keyboards. 
    Row stagger is equal to a "cleave-style ergonomic" keyboard.
    Thumb keys are added. 
    Key cap sizes are harmonized to facilitate customizing the keymap. 
    I specifically made this layout so that Enter/Return is the biggest key to create a visual link to an ANSI 65% keyboard, 
    where Return is also bigger than Backspace. 
    It's also practical to have both "space bars" be the same size as the return key, 
    because you can easily map Return on one of those bottom-row bars.`,thirtyKeyMapping:[["Esc","1","2","3","4","5","[","`~","]","6","7","8","9","0","â‡ž","â‡Ÿ"],["â†¹",0,1,2,3,4,"=",null,5,6,7,8,9,"-","âŽ"],["âŒ¦",0,1,2,3,4,"â‡¤","â‡¥",5,6,7,8,9,"'","âŒ«"],["Fn","â‡§",0,1,2,3,4,"\\",9,5,6,7,8,"â‡§","â†‘",null],[null,"Ctrl","Cmd","CAPS","Alt","â½","â½","AltGr","Fn","Ctrl",null,"â†","â†“","â†’"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","[","`~","]","6","7","8","9","0","â‡ž","â‡Ÿ"],["â†¹",0,1,2,3,4,null,null,5,6,7,8,9,"=","âŽ"],["âŒ¦",0,1,2,3,4,"â‡¤","â‡¥",5,6,7,8,9,"'","âŒ«"],["Fn","â‡§",0,1,2,3,4,"\\","/",5,6,7,8,"â‡§","â†‘",null],[null,"Ctrl","Cmd","CAPS","Alt",0,"â½","AltGr","Fn","Ctrl",null,"â†","â†“","â†’"]],fullMapping:[],mainFingerAssignment:[[null,1,1,1,2,3,3,3,6,6,7,8,8,8,null,null],[0,0,1,2,3,3,3,null,6,6,7,8,9,9,9],[0,0,1,2,3,3,3,6,6,6,7,8,9,9,9],[0,0,1,2,3,3,3,3,6,6,6,7,8,9,null,null],[null,0,1,2,4,4,5,5,null,7,null,null,null,null]],hasAltFinger:(e,t)=>e==u.Lower&&[1,2,3,7,8,9].includes(t),singleKeyEffort:[[null,3,3,2,2,3,3,3,3,3,2,2,3,3,null,null],[2,2,1,1,1.5,2,3,3,2,1.5,1,1,2,2,3],[1.5,.2,.2,.2,.2,2,3,3,2,.2,.2,.2,.2,1.5,2],[3,1,1.5,1.5,1,2,3,3,3,2,1,1.5,1.5,1,null,null],[null,2,1.5,null,1,.2,.2,1,null,null,null,null,null,null]],rowStart:e=>0,keyWidth:(e,t)=>{const n=q.thirtyKeyMapping[e].length-1;switch(e){case u.Number:return 1;case u.Upper:switch(t){case 0:case n:return 1.75;case 7:return .5}return 1;case u.Home:switch(t){case 0:case n:return 1.5}return 1;case u.Lower:return 1;case u.Bottom:const i=10;switch(t){case 0:return .5;case 5:case 6:return 1.75;case i-2:return 1;case i:return .5;default:return t>i?1:1.25}default:return 1}},leftHomeIndex:4,rightHomeIndex:9,staggerOffsets:[.5,.25,0,-.5],symmetricStagger:!0,getSpecificMapping:e=>{},keyColorClass:Ce},Vn={...q,name:"Ergoboard 65 LowShift Big Enter",keyWidth:(e,t)=>{const n=Vn.thirtyKeyMapping[e].length-1;switch(e){case u.Home:switch(t){case n:return 2.5}break;case u.Bottom:return[.25,1.25,1.25,1,1.25,2.5,2.5,1.25,.25,1.25,.25,1,1,1][t]}return q.keyWidth(e,t)},thirtyKeyMapping:x(q.thirtyKeyMapping,e=>$t(e,!1)),thumb30KeyMapping:x(q.thumb30KeyMapping,e=>$t(e,!0)),mainFingerAssignment:x(q.mainFingerAssignment,e=>Ot(e)),singleKeyEffort:x(q.singleKeyEffort,e=>Ot(e))};function $t(e,t){return e[u.Number][7]="=",e[u.Upper][6]=t?"`~":"-",e[u.Upper].splice(-2,2,"'","âŽ"),e[u.Home].splice(-2,2,"âŒ«"),e[u.Bottom][8]=null,e}function Ot(e){return e[u.Home].pop(),e}const Yn={...q,name:"Ergoboard 65 MidShift Nicely Wide",leftHomeIndex:4,rightHomeIndex:10,staggerOffsets:[.5,.25,0,-.25],thirtyKeyMapping:[["Esc","`~","1","2","3","4","5","[","]","6","7","8","9","0","â‡ž","â‡Ÿ"],["â†¹",0,1,2,3,4,"â‡¤",null,"â‡¥",5,6,7,8,9,"âŒ«"],["â‡§",0,1,2,3,4,"-","\\","'",5,6,7,8,9,"â‡§"],["Ctrl",0,1,2,3,4,"=","â‚¬ Â¢ Â£ Â¥",9,5,6,7,8,null,"â†‘",null],[null,"Cmd","Fn","","âŒ¦","Alt","âŽ","â½","AltGr",null,"Ctrl",null,"â†","â†“","â†’"]],thumb30KeyMapping:[["Esc","`~","1","2","3","4","5","[","]","6","7","8","9","0","â‡ž","â‡Ÿ"],["â†¹",0,1,2,3,4,"â‡¤",null,"â‡¥",5,6,7,8,9,"âŒ«"],["â‡§",0,1,2,3,4,"\\","","'",5,6,7,8,9,"â‡§"],["Ctrl",0,1,2,3,4,"=","â‚¬ Â¢ Â£ Â¥","/",5,6,7,8,null,"â†‘",null],[null,"Cmd","Fn","âŒ¦","Alt",0,"âŽ","â½","AltGr",null,"Ctrl",null,"â†","â†“","â†’"]],mainFingerAssignment:x(q.mainFingerAssignment,e=>(e[u.Upper].splice(8,0,k.RIndex),e[u.Upper].pop(),e[u.Home].splice(7,0,null),e[u.Home].pop(),e[u.Lower][7]=null,e[u.Bottom].splice(4,0,k.LIndex),e)),singleKeyEffort:[[null,3,3,2,2,3,3,3,3,3,3,2,2,3,null,null],[2,2,1,1,1.5,2,3,3,3,2,1.5,1,1,2,2],[1.5,.2,.2,.2,.2,2,3,3,3,2,.2,.2,.2,.2,1.5],[3,1,1.5,1.5,1,2,3,3,3,2,1,1.5,1.5,1,null,null],[null,2,1.5,null,null,1,.2,.2,1,null,1.5,null,null,null,null]],keyWidth:(e,t)=>{switch(e){case u.Bottom:if(t>11)return 1;switch(t){case 0:return .5;case 3:case 4:return 1;case 6:case 7:return 1.75;case 9:case 11:return .75/2;default:return 1.25}case u.Lower:switch(t){case 0:return 1.25;case 7:return 1.5;case 13:return .25;default:return 1}}return q.keyWidth(e,t)}},W={name:"Ergoboard 65 MidShift Narrow, Right Return",description:"",thirtyKeyMapping:[["Esc","1","2","3","4","5","[","`~","]","6","7","8","9","0","â‡ž","â‡Ÿ"],["â†¹",0,1,2,3,4,"\\",null,5,6,7,8,9,"'","âŽ"],["â‡§",0,1,2,3,4,"=","-",5,6,7,8,9,"â‡§","âŒ«"],["Ctrl",0,1,2,3,4,"â‡¤",null,"â‡¥",5,6,7,8,9,null,"â†‘",null],[null,"Cmd","Fn","âŒ¦","Alt","â½","â½","AltGr",null,"Ctrl",null,"â†","â†“","â†’"]],thumb30KeyMapping:[["Esc","1","2","3","4","5","[","`~","]","6","7","8","9","0","â‡ž","â‡Ÿ"],["â†¹",0,1,2,3,4,null,null,5,6,7,8,9,"'","âŽ"],["â‡§",0,1,2,3,4,"=","\\",5,6,7,8,9,"â‡§","âŒ«"],["Ctrl",0,1,2,3,4,"â‡¤",null,"â‡¥",5,6,7,8,"/",null,"â†‘",null],[null,"Cmd","Fn","âŒ¦","Alt",0,"â½","AltGr",null,"Ctrl",null,"â†","â†“","â†’"]],fullMapping:[],mainFingerAssignment:[[null,1,1,1,2,3,3,3,6,6,7,8,8,8,null,null],[0,0,1,2,3,3,3,null,6,6,7,8,9,9,null],[0,0,1,2,3,3,3,6,6,6,7,8,9,9,9],[0,0,1,2,3,3,3,3,6,6,6,7,8,9,null,null,null],[null,0,null,null,4,4,5,5,null,7,null,null,null,null]],hasAltFinger:(e,t)=>e==u.Lower&&[1,2,3,7,8,9].includes(t),singleKeyEffort:[[null,3,3,2,2,3,3,3,3,3,2,2,3,3,null,null],[2,2,1,1,1.5,2,3,3,2,1.5,1,1,2,2,3],[1.5,.2,.2,.2,.2,2,3,3,2,.2,.2,.2,.2,1.5,3],[3,1,1.5,1.5,1,2,3,3,3,2,1,1.5,1.5,1,null,null,null],[null,2,1.5,null,1,.2,.2,1,null,null,null,null,null,null]],rowStart:e=>0,keyWidth:(e,t)=>{const n=Yn.thirtyKeyMapping[e].length;switch(e){case u.Number:return 1;case u.Upper:switch(t){case 7:return .5;case 0:case 14:return 1.75;default:return 1}case u.Home:switch(t){case 0:case n-1:return 1.5;default:return 1}case u.Lower:switch(t){case 0:return 1.25;case 7:return .5;case 14:return .25;default:return 1}case u.Bottom:if(t>10)return 1;switch(t){case 0:return .75;case 5:case 6:return 1.75;case 8:case 10:return 1.25/2;default:return 1.25}}},leftHomeIndex:4,rightHomeIndex:9,staggerOffsets:[.5,.25,0,-.25],symmetricStagger:!0,getSpecificMapping:e=>{},keyColorClass:Ce},Or={...W,name:"Ergoboard 65 MidShift Narrow, Central Return",keyWidth:(e,t)=>{switch(e){case u.Upper:if(t===6)return 1.5;break;case u.Home:switch(t){case 13:return 1.5;case 14:return 1}}return W.keyWidth(e,t)},thirtyKeyMapping:x(W.thirtyKeyMapping,Ut),thumb30KeyMapping:x(W.thumb30KeyMapping,Ut),mainFingerAssignment:x(W.mainFingerAssignment,e=>(e[u.Number][14]=k.RPinky,e[u.Home][14]=null,e)),singleKeyEffort:x(W.singleKeyEffort,e=>(e[u.Number][14]=we,e[u.Home][14]=null,e))};function Ut(e){return e[u.Number][14]="\\",e[u.Number][15]="â‡ž",e[u.Upper][6]="âŽ",delete e[u.Upper][7],e[u.Upper][14]="âŒ«",e[u.Home][14]="â‡Ÿ",e}const Ur={...W,name:"Ergoboard 65 MidShift Narrow, Vertical Return",keyWidth:(e,t)=>{switch(e){case u.Upper:switch(t){case 13:return 1.75;case 14:return 1}break;case u.Home:switch(t){case 13:return 1.5;case 14:return 1}}return W.keyWidth(e,t)},keyCapHeight:(e,t)=>e==u.Upper&&t==14?2:1,thirtyKeyMapping:x(W.thirtyKeyMapping,jt),thumb30KeyMapping:x(W.thumb30KeyMapping,jt)};function jt(e){return e[u.Upper][13]="âŒ«",e[u.Home][14]=null,e}const ht={name:"Ergoboard 65 MidShift Max Wide",description:"",thirtyKeyMapping:[["Esc","1","2","3","4","5","[",null,"]","6","7","8","9","0","â‡ž","â‡Ÿ"],["â†¹",0,1,2,3,4,"`~","","\\",5,6,7,8,9,"âŒ«"],["â‡§",0,1,2,3,4,"-","âŒ¦","'",5,6,7,8,9,"â‡§"],[null,0,1,2,3,4,"=","â‡¤","â‡¥",9,5,6,7,8,null,"â†‘",null],[null,"Ctrl","Cmd","Fn","Alt","âŽ","","â½","AltGr",null,"Ctrl",null,"â†","â†“","â†’"]],fullMapping:[],mainFingerAssignment:[[null,1,1,2,3,3,3,6,6,6,7,8,8,8,null,null],[0,0,1,2,3,3,3,null,6,6,6,7,8,9,9],[0,0,1,2,3,3,3,null,6,6,6,7,8,9,9],[0,0,1,2,3,3,3,null,null,6,6,6,7,8,null,null,null],[null,0,1,2,4,4,null,5,5,null,7,null,null,null,null]],hasAltFinger:(e,t)=>e==u.Lower&&[1,2,3,7,8,9].includes(t),singleKeyEffort:[[null,3,2,2,3,3,3,3,3,3,3,2,2,3,null,null],[2,2,1,1,1.5,2,3,null,3,2,1.5,1,1,2,2],[1.5,.2,.2,.2,.2,2,3,null,3,2,.2,.2,.2,.2,1.5],[3,1,1.5,1.5,1,2,3,null,null,3,2,1,1.5,1.5,null,null,null],[null,2,2,null,1,.2,.2,1,null,null,2,null,null,null,null]],rowStart:e=>0,keyWidth:(e,t)=>{const n=ht.thirtyKeyMapping[e].length-1;switch(e){case u.Number:switch(t){case 0:return 1.5;case 7:return .5}return 1;case u.Upper:switch(t){case 0:return 1.25;case n:return 1.75}return 1;case u.Home:switch(t){case 7:return 1.5;case n:return 1.5}return 1;case u.Lower:switch(t){case 0:return .75;case 14:return .25}return 1;case u.Bottom:if(t>11)return 1;switch(t){case 0:return .5;case 5:case 7:return 1.75;case 6:return 1;case 9:case 11:return .25}return 1.25}},keyCapWidth:(e,t)=>e==u.Bottom&&t>0&&t<4?1.25:ht.keyWidth(e,t),leftHomeIndex:4,rightHomeIndex:10,staggerOffsets:[.5,.25,0,-.25],symmetricStagger:!0,getSpecificMapping:e=>{},keyColorClass:Ce};function Zn(e){switch(e){case R.H14_Wide:return Br;case R.H14_Traditional:return qr;case R.H13_Wide:return jn;case R.H13_MidShift:return Wr;case R.H12:default:return zr}}function Jn(e){const{plankVariant:t,ep60Arrows:n,ep60angleMod:i,eb65LowshiftVariant:r,eb65MidshiftVariant:a}=e;switch(t){case B.KATANA_60:return Dn;case B.EP60:default:let o=n?Gn:D;return i?$r(o):o;case B.EB65_LOW_SHIFT:switch(r){default:return Qn;case ee.LESS_GAPS:return q;case ee.BIG_ENTER:return Vn}case B.EB65_MID_SHIFT:switch(a){default:return Yn;case F.EXTRA_WIDE:return ht;case F.CENTRAL_ENTER:return Or;case F.RIGHT_ENTER:return W;case F.VERTICAL_ENTER:return Ur}}}function Xn(e){switch(e.type){case N.ANSI:return Hr(e);case N.Ergosplit:return Rr;case N.Harmonic:return Zn(e.harmonicVariant);case N.Ergoplank:default:return Jn(e)}}function jr({variant:e,setVariant:t}){return s("div",{children:[s(me,{variant:R.H14_Wide,currentVariant:e,setVariant:t}),s(me,{variant:R.H14_Traditional,currentVariant:e,setVariant:t}),s(me,{variant:R.H13_Wide,currentVariant:e,setVariant:t}),s(me,{variant:R.H13_MidShift,currentVariant:e,setVariant:t}),s(me,{variant:R.H12,currentVariant:e,setVariant:t})]})}function me({variant:e,currentVariant:t,setVariant:n}){return s("button",{className:"layout-options-button"+(e===t?" selected":""),onClick:()=>n(e),children:Zn(e).name})}function Dr({variant:e,setVariant:t,options:n,setOption:i}){function r(a,o){return s(O,{label:o,type:"radio",groupName:"lowshift_variant",checked:n.eb65LowshiftVariant==a,onChange:l=>l&&i({eb65LowshiftVariant:a})})}return s("div",{class:"plank-layout-options-container",children:[s(Le,{variant:B.KATANA_60,currentVariant:e,setVariant:t}),s(Le,{variant:B.EP60,currentVariant:e,setVariant:t,name:"â¤ï¸ Ergoplank 60",children:[s(O,{label:"angle mod",checked:n.ep60angleMod,onChange:a=>i({ep60angleMod:a})}),s(O,{label:"Include arrow keys",checked:n.ep60Arrows,onChange:a=>i({ep60Arrows:a})}),s(et,{setOption:i,options:n})]}),s(Le,{variant:B.EB65_LOW_SHIFT,currentVariant:e,setVariant:t,name:"Ergoboard 65 Lowshift",children:[r(ee.WIDE_HANDS,"Wide Hands"),r(ee.LESS_GAPS,"Less Gaps"),r(ee.BIG_ENTER,"Big Enter & Space"),s(et,{setOption:i,options:n})]}),s(Le,{variant:B.EB65_MID_SHIFT,currentVariant:e,setVariant:t,name:"â¤ï¸Ergoboard 65 Midshift",children:[s(Gr,{msVariant:n.eb65MidshiftVariant,setMsVariant:a=>i({eb65MidshiftVariant:a})}),s(et,{setOption:i,options:n})]})]})}function Gr({msVariant:e,setMsVariant:t}){function n(r,a,o=!1){return s(O,{label:a,type:"radio",groupName:o?"midshift_subvariant":"midshift_variant",checked:e==r,onChange:l=>l&&t(r)})}const i=e>F.NICELY_WIDE;return s(K,{children:[n(F.EXTRA_WIDE,"Extra Wide Hands"),n(F.NICELY_WIDE,"â¤ï¸ Wide Hands"),e==F.NICELY_WIDE&&!1,s(O,{label:"Narrow Hands",type:"radio",groupName:"midshift_variant",checked:i,onChange:r=>r&&t(F.CENTRAL_ENTER)}),i&&s("div",{class:"ergoplank-midshift-sub-variants-container",children:[n(F.CENTRAL_ENTER,"Central Enter key",!0),n(F.RIGHT_ENTER,"Right-side Enter key",!0),n(F.VERTICAL_ENTER,"Vertical Enter key",!0)]})]})}function Le({variant:e,currentVariant:t,setVariant:n,name:i,children:r}){const a=e===t?" selected":"";return s("div",{children:[s("button",{className:"layout-options-button"+a,onClick:()=>n(e),children:i||Jn({plankVariant:e}).name}),a&&r]})}function et({setOption:e,options:t}){return s("button",{class:"flip-ret-rub-button",onClick:()=>e({flipRetRub:!t.flipRetRub}),children:"âŽ flip âŒ«"})}function Qr({appState:e}){const{layout:t,layoutModel:n,mapping:i,setLayout:r,mappingDiff:a,bigramMovements:o,vizType:l}=e,c=ie(n.value,i.value);t.value.type==N.Ergoplank&&n.value.name.includes("Ergo")&&t.value.flipRetRub&&Vr(c);let h=t.value.type==N.Ergosplit||t.value.type==N.ANSI&&t.value.ansiSplit;const d=Ge(n.value,h,c);return s("div",{children:[s(Yr,{layout:t.value,setLayout:r}),s(wr,{children:[s(Er,{layoutModel:n.value,keyPositions:d,mappingDiff:a.value,vizType:l.value}),l.value==w.LayoutAngle&&s(Tr,{layoutModel:n.value,layoutSplit:h,keyPositions:d}),l.value==w.MappingBigrams&&s(Cr,{bigrams:o.value})]}),s(Jr,{state:e})]})}function Vr(e){e.forEach(t=>{t.forEach((n,i)=>{n=="âŽ"&&(t[i]="âŒ«"),n=="âŒ«"&&(t[i]="âŽ")})})}function Yr({layout:e,setLayout:t}){const n=[N.ANSI,N.Harmonic,N.Ergoplank,N.Ergosplit];return s("div",{className:"layout-top-bar-container",children:[s(Dt,{}),n.map(i=>s(Zr,{layoutType:i,layoutName:Ti[i],currentLayout:e.type,setLayoutType:r=>t({...e,type:r})},i)),s(Dt,{})]})}const Dt=()=>s("div",{class:"blank"});function Zr({layoutType:e,layoutName:t,currentLayout:n,setLayoutType:i}){return s("div",{onClick:()=>i(e),children:s("button",{class:"top-bar-keyboard-tab-label"+(e===n?" selected":""),children:t})})}function Jr({state:e}){return s("div",{class:"layout-options-bar-container",children:s(Xr,{layoutOptions:e.layout.value,setLayoutOptions:e.setLayout,mapping:e.mapping})})}function Xr({layoutOptions:e,setLayoutOptions:t,mapping:n}){switch(e.type){case N.ANSI:return s(Mr,{wide:e.ansiWide,setWide:i=>t({...e,ansiWide:i}),variant:e.ansiVariant,setVariant:i=>t({...e,ansiVariant:i}),split:e.ansiSplit,setSplit:i=>t({...e,ansiSplit:i}),mapping:n});case N.Harmonic:return s(jr,{variant:e.harmonicVariant,setVariant:i=>t({...e,harmonicVariant:i})});case N.Ergoplank:return s(Dr,{variant:e.plankVariant,setVariant:i=>t({...e,plankVariant:i}),options:e,setOption:i=>t({...e,...i})})}return s(K,{})}var Ne,A,tt,Gt,$e=0,ei=[],C=g,Qt=C.__b,Vt=C.__r,Yt=C.diffed,Zt=C.__c,Jt=C.unmount,Xt=C.__;function vt(e,t){C.__h&&C.__h(A,e,$e||t),$e=0;var n=A.__H||(A.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ti(e){return $e=1,ea(ri,e)}function ea(e,t,n){var i=vt(Ne++,2);if(i.t=e,!i.__c&&(i.__=[n?n(t):ri(void 0,t),function(l){var c=i.__N?i.__N[0]:i.__[0],h=i.t(c,l);c!==h&&(i.__N=[h,i.__[1]],i.__c.setState({}))}],i.__c=A,!A.__f)){var r=function(l,c,h){if(!i.__c.__H)return!0;var d=i.__c.__H.__.filter(function(m){return!!m.__c});if(d.every(function(m){return!m.__N}))return!a||a.call(this,l,c,h);var p=i.__c.props!==l;return d.forEach(function(m){if(m.__N){var f=m.__[0];m.__=m.__N,m.__N=void 0,f!==m.__[0]&&(p=!0)}}),a&&a.call(this,l,c,h)||p};A.__f=!0;var a=A.shouldComponentUpdate,o=A.componentWillUpdate;A.componentWillUpdate=function(l,c,h){if(this.__e){var d=a;a=void 0,r(l,c,h),a=d}o&&o.call(this,l,c,h)},A.shouldComponentUpdate=r}return i.__N||i.__}function ta(e,t){var n=vt(Ne++,3);!C.__s&&ii(n.__H,t)&&(n.__=e,n.u=t,A.__H.__h.push(n))}function en(e){return $e=5,ni(function(){return{current:e}},[])}function ni(e,t){var n=vt(Ne++,7);return ii(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function na(){for(var e;e=ei.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(We),e.__H.__h.forEach(pt),e.__H.__h=[]}catch(t){e.__H.__h=[],C.__e(t,e.__v)}}C.__b=function(e){A=null,Qt&&Qt(e)},C.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Xt&&Xt(e,t)},C.__r=function(e){Vt&&Vt(e),Ne=0;var t=(A=e.__c).__H;t&&(tt===A?(t.__h=[],A.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(We),t.__h.forEach(pt),t.__h=[],Ne=0)),tt=A},C.diffed=function(e){Yt&&Yt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ei.push(t)!==1&&Gt===C.requestAnimationFrame||((Gt=C.requestAnimationFrame)||ia)(na)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),tt=A=null},C.__c=function(e,t){t.some(function(n){try{n.__h.forEach(We),n.__h=n.__h.filter(function(i){return!i.__||pt(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],C.__e(i,n.__v)}}),Zt&&Zt(e,t)},C.unmount=function(e){Jt&&Jt(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{We(i)}catch(r){t=r}}),n.__H=void 0,t&&C.__e(t,n.__v))};var tn=typeof requestAnimationFrame=="function";function ia(e){var t,n=function(){clearTimeout(i),tn&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,35);tn&&(t=requestAnimationFrame(n))}function We(e){var t=A,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),A=t}function pt(e){var t=A;e.__c=e.__(),A=t}function ii(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function ri(e,t){return typeof t=="function"?t(e):t}var ra=Symbol.for("preact-signals");function Qe(){if(Q>1)Q--;else{for(var e,t=!1;_e!==void 0;){var n=_e;for(_e=void 0,dt++;n!==void 0;){var i=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&si(n))try{n.c()}catch(r){t||(e=r,t=!0)}n=i}}if(dt=0,Q--,t)throw e}}function aa(e){if(Q>0)return e();Q++;try{return e()}finally{Qe()}}var _=void 0;function ai(e){var t=_;_=void 0;try{return e()}finally{_=t}}var _e=void 0,Q=0,dt=0,Oe=0;function oi(e){if(_!==void 0){var t=e.n;if(t===void 0||t.t!==_)return t={i:0,S:e,p:_.s,n:void 0,t:_,e:void 0,x:void 0,r:t},_.s!==void 0&&(_.s.n=t),_.s=t,e.n=t,32&_.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=_.s,t.n=void 0,_.s.n=t,_.s=t),t}}function I(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t==null?void 0:t.watched,this.Z=t==null?void 0:t.unwatched,this.name=t==null?void 0:t.name}I.prototype.brand=ra;I.prototype.h=function(){return!0};I.prototype.S=function(e){var t=this,n=this.t;n!==e&&e.e===void 0&&(e.x=n,this.t=e,n!==void 0?n.e=e:ai(function(){var i;(i=t.W)==null||i.call(t)}))};I.prototype.U=function(e){var t=this;if(this.t!==void 0){var n=e.e,i=e.x;n!==void 0&&(n.x=i,e.e=void 0),i!==void 0&&(i.e=n,e.x=void 0),e===this.t&&(this.t=i,i===void 0&&ai(function(){var r;(r=t.Z)==null||r.call(t)}))}};I.prototype.subscribe=function(e){var t=this;return ce(function(){var n=t.value,i=_;_=void 0;try{e(n)}finally{_=i}},{name:"sub"})};I.prototype.valueOf=function(){return this.value};I.prototype.toString=function(){return this.value+""};I.prototype.toJSON=function(){return this.value};I.prototype.peek=function(){var e=_;_=void 0;try{return this.value}finally{_=e}};Object.defineProperty(I.prototype,"value",{get:function(){var e=oi(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(dt>100)throw new Error("Cycle detected");this.v=e,this.i++,Oe++,Q++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{Qe()}}}});function ve(e,t){return new I(e,t)}function si(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function li(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function ui(e){for(var t=e.s,n=void 0;t!==void 0;){var i=t.p;t.i===-1?(t.S.U(t),i!==void 0&&(i.n=t.n),t.n!==void 0&&(t.n.p=i)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=i}e.s=n}function re(e,t){I.call(this,void 0),this.x=e,this.s=void 0,this.g=Oe-1,this.f=4,this.W=t==null?void 0:t.watched,this.Z=t==null?void 0:t.unwatched,this.name=t==null?void 0:t.name}re.prototype=new I;re.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Oe))return!0;if(this.g=Oe,this.f|=1,this.i>0&&!si(this))return this.f&=-2,!0;var e=_;try{li(this),_=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return _=e,ui(this),this.f&=-2,!0};re.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}I.prototype.S.call(this,e)};re.prototype.U=function(e){if(this.t!==void 0&&(I.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};re.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(re.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=oi(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function X(e,t){return new re(e,t)}function ci(e){var t=e.u;if(e.u=void 0,typeof t=="function"){Q++;var n=_;_=void 0;try{t()}catch(i){throw e.f&=-2,e.f|=8,bt(e),i}finally{_=n,Qe()}}}function bt(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,ci(e)}function oa(e){if(_!==this)throw new Error("Out-of-order effect");ui(this),_=e,this.f&=-2,8&this.f&&bt(this),Qe()}function ue(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=t==null?void 0:t.name}ue.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};ue.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,ci(this),li(this),Q++;var e=_;return _=this,oa.bind(this,e)};ue.prototype.N=function(){2&this.f||(this.f|=2,this.o=_e,_e=this)};ue.prototype.d=function(){this.f|=8,1&this.f||bt(this)};ue.prototype.dispose=function(){this.d()};function ce(e,t){var n=new ue(e,t);try{n.c()}catch(r){throw n.d(),r}var i=n.d.bind(n);return i[Symbol.dispose]=i,i}var hi,nt,Ve=typeof window<"u"&&!!window.__PREACT_SIGNALS_DEVTOOLS__,pi=[];ce(function(){hi=this.N})();function he(e,t){g[e]=t.bind(null,g[e]||function(){})}function Ue(e){nt&&nt(),nt=e&&e.S()}function di(e){var t=this,n=e.data,i=fi(n);i.value=n;var r=ni(function(){for(var l=t,c=t.__v;c=c.__;)if(c.__c){c.__c.__$f|=4;break}var h=X(function(){var f=i.value.value;return f===0?0:f===!0?"":f||""}),d=X(function(){return!Array.isArray(h.value)&&!mn(h.value)}),p=ce(function(){if(this.N=mi,d.value){var f=h.value;l.__v&&l.__v.__e&&l.__v.__e.nodeType===3&&(l.__v.__e.data=f)}}),m=t.__$u.d;return t.__$u.d=function(){p(),m.call(this)},[d,h]},[]),a=r[0],o=r[1];return a.value?o.peek():o.value}di.displayName="ReactiveTextNode";Object.defineProperties(I.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:di},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});he("__b",function(e,t){if(Ve&&typeof t.type=="function"&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),typeof t.type=="string"){var n,i=t.props;for(var r in i)if(r!=="children"){var a=i[r];a instanceof I&&(n||(t.__np=n={}),n[r]=a,i[r]=a.peek())}}e(t)});he("__r",function(e,t){if(Ve&&typeof t.type=="function"&&window.__PREACT_SIGNALS_DEVTOOLS__.enterComponent(t),t.type!==K){Ue();var n,i=t.__c;i&&(i.__$f&=-2,(n=i.__$u)===void 0&&(i.__$u=n=(function(r){var a;return ce(function(){a=this}),a.c=function(){i.__$f|=1,i.setState({})},a})())),Ue(n)}e(t)});he("__e",function(e,t,n,i){Ve&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),Ue(),e(t,n,i)});he("diffed",function(e,t){Ve&&typeof t.type=="function"&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),Ue();var n;if(typeof t.type=="string"&&(n=t.__e)){var i=t.__np,r=t.props;if(i){var a=n.U;if(a)for(var o in a){var l=a[o];l!==void 0&&!(o in i)&&(l.d(),a[o]=void 0)}else a={},n.U=a;for(var c in i){var h=a[c],d=i[c];h===void 0?(h=sa(n,c,d,r),a[c]=h):h.o(d,r)}}}e(t)});function sa(e,t,n,i){var r=t in e&&e.ownerSVGElement===void 0,a=ve(n);return{o:function(o,l){a.value=o,i=l},d:ce(function(){this.N=mi;var o=a.value.value;i[t]!==o&&(i[t]=o,r?e[t]=o:o!=null&&(o!==!1||t[4]==="-")?e.setAttribute(t,o):e.removeAttribute(t))})}}he("unmount",function(e,t){if(typeof t.type=="string"){var n=t.__e;if(n){var i=n.U;if(i){n.U=void 0;for(var r in i){var a=i[r];a&&a.d()}}}}else{var o=t.__c;if(o){var l=o.__$u;l&&(o.__$u=void 0,l.d())}}e(t)});he("__h",function(e,t,n,i){(i<3||i===9)&&(t.__$f|=2),e(t,n,i)});P.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u,i=n&&n.s!==void 0;for(var r in t)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var a=2&this.__$f;if(!(i||a||4&this.__$f)||1&this.__$f)return!0}else if(!(i||4&this.__$f)||3&this.__$f)return!0;for(var o in e)if(o!=="__source"&&e[o]!==this.props[o])return!0;for(var l in this.props)if(!(l in e))return!0;return!1};function fi(e,t){return ti(function(){return ve(e,t)})[0]}var la=function(e){queueMicrotask(function(){queueMicrotask(e)})};function ua(){aa(function(){for(var e;e=pi.shift();)hi.call(e)})}function mi(){pi.push(this)===1&&(g.requestAnimationFrame||la)(ua)}const ca=[["er",2052072],["ht",1898489],["eh",1537888],["in",1482841],["it",1174519],["an",1160613],["es",1140866],["en",1117760],["no",1085035],["at",1078956],["or",1008467],["de",970989],["ar",900364],["et",867532],["is",865616],["ot",829265],["st",818144],["al",783066],["el",778414],["fo",715152],["dn",683236],["as",639025],["em",622410],["ev",614406],["ah",613166],["gn",609666],["il",608463],["ou",595543],["ce",541925],["ir",520672],["nt",513099],["ac",497242],["mo",486632],["am",464918],["co",446348],["di",437925],["hi",436056],["ci",432789],["ae",430241],["lo",418246],["rt",408559],["su",396479],["tu",394595],["io",381612],["os",379887],["ll",366004],["ru",365178],["be",341384],["ow",340479],["im",339705],["ai",332112],["ep",330913],["ad",323467],["op",307668],["ch",305999],["fi",297511],["ei",293767],["eg",292820],["ho",286559],["ew",273679],["ap",266641],["nu",261965],["aw",253669],["iv",253061],["lu",251680],["do",250042],["ns",248282],["ly",242268],["gi",232759],["hw",231945],["ct",229371],["iw",223618],["ab",223489],["pr",219184],["rs",219101],["ee",217888],["ef",216742],["av",214800],["ag",200658],["ss",198092],["hs",195705],["cn",194777],["oy",186839],["dl",184573],["bu",175531],["bo",171736],["ek",171672],["ay",171298],["cu",165108],["dr",161623],["ey",160055],["go",159444],["cr",154113],["gr",150896],["oo",150459],["lp",145915],["bl",145021],["gh",142972],["pu",142888],["ps",142290],["ry",135298],["au",132392],["af",131877],["mu",130928],["ov",129918],["ex",128731],["fr",125599],["lt",120346],["ty",119961],["ls",116120],["gu",115420],["ik",115395],["mp",113149],["ck",111807],["tt",109168],["ip",106943],["bi",104613],["du",102352],["cl",100403],["nr",98356],["cs",97778],["mr",97108],["eu",96958],["ak",92439],["ms",85254],["kn",84459],["by",82632],["ds",81102],["ff",80306],["qu",74688],["sy",74284],["rr",71533],["ks",71286],["pp",69858],["fl",69856],["eo",69003],["my",68800],["br",67758],["ny",63686],["pt",63667],["fu",61906],["hr",59718],["ft",58382],["ko",58215],["lr",54152],["iu",54045],["bm",52417],["nw",50387],["ln",49562],["kr",46988],["mm",46014],["hu",45471],["nn",43639],["sw",42491],["gs",41380],["tw",41095],["cc",39762],["iz",39186],["hp",38639],["ao",38096],["px",36495],["dd",36400],["gl",36372],["ju",36006],["fn",35590],["tx",34391],["ez",32811],["rv",31828],["dy",31074],["eq",28789],["nv",28734],["ax",28244],["jo",27742],["ix",27256],["hy",26929],["rw",26633],["bs",26177],["ej",25775],["py",25302],["cy",24256],["gg",22215],["kl",21308],["iy",21015],["az",20853],["aj",20714],["lm",18587],["mn",18364],["mt",17221],["dg",17126],["lv",16876],["lw",16687],["cx",14219],["hn",13377],["gy",13113],["gt",12940],["fs",12139],["bj",11816],["dv",11796],["dm",11088],["bt",10330],["ox",10173],["oz",8120],["cp",8079],["bb",8041],["hm",8014],["aq",7463],["dw",7454],["hl",7240],["ku",7001],["dp",6460],["gm",6348],["np",6301],["dt",6218],["cm",6083],["bd",6043],["uy",5744],["iq",5665],["fy",5498],["dh",5441],["pv",5258],["wy",5211],["df",5040],["ky",4970],["qs",4853],["jn",4828],["ux",4748],["uz",4604],["bc",4590],["cg",4584],["hk",4521],["bn",4432],["fg",4359],["cd",4294],["bh",4287],["ij",3723],["bk",3690],["ii",3665],["fm",3521],["cf",3495],["sv",3419],["nq",3323],["fp",3242],["ww",3063],["tz",2899],["gp",2862],["vy",2790],["cq",2681],["aa",2655],["yz",2605],["zz",2600],["bv",2406],["kt",2302],["nx",2296],["kw",2226],["kp",2212],["tv",2143],["uv",2048],["fx",2033],["fh",1946],["fk",1937],["mv",1879],["pw",1764],["fw",1734],["nz",1733],["dx",1695],["qw",1686],["xy",1672],["dj",1658],["mw",1657],["rx",1637],["hx",1585],["gk",1578],["qr",1547],["bg",1542],["bp",1508],["bw",1470],["km",1452],["sx",1435],["xx",1417],["dk",1360],["lq",1347],["cv",1307],["lz",1262],["bf",1231],["mx",1067],["cw",986],["bx",984],["uw",947],["hz",932],["jp",866],["hv",853],["kk",764],["gw",760],["jm",753],["dq",705],["js",701],["sz",700],["vx",696],["lx",680],["jr",673],["gv",662],["yy",645],["fq",612],["rz",608],["oq",573],["jt",546],["hh",538],["jl",521],["cz",501],["hq",440],["qq",425],["fv",366],["gz",359],["bz",333],["cj",324],["uu",320],["dz",317],["fj",269],["kv",246],["wz",231],["mz",219],["wx",203],["jk",186],["qt",184],["qx",183],["kz",158],["jy",139],["pq",126],["vv",124],["mq",113],["pz",107],["jz",100],["bq",82],["kq",73],["hj",72],["vw",72],["jj",66],["gx",61],["kx",60],["vz",58]];function ha(e,t){try{return Ct(e.finger)||Ct(t.finger)?y.InvolvesThumb:Pe(e.finger)!=Pe(t.finger)?y.OtherHand:e.finger==t.finger?e.hasAltFinger||t.hasAltFinger||(e.finger==k.LIndex||e.finger==k.RIndex)&&e.col!=t.col?y.AltFinger:y.SameFinger:Math.abs(e.col-t.col)>4?y.OppositeLateral:e.row==t.row?y.SameRow:Math.abs(e.row-t.row)==1?y.NeighboringRow:y.OppositeRow}catch(n){throw console.log(`Error in getBigramType: ${n}. a: ${e}, b: ${t}`),n}}const gi=40;function wt(e,t){const n=ca,i=br(e);return n.map(([[r,a],o],l)=>{if(!i[r])return console.log(`character ${r} not mapped for ${t}.`),null;if(!i[a])return console.log(`character ${a} not mapped for ${t}.`),null;const c=ha(i[r],i[a]);return{a:i[r],b:i[a],frequency:o,rank:1+Math.floor(l/gi),type:c,draw:c!=y.OtherHand&&c!=y.InvolvesThumb}}).filter(r=>!!r)}function pa(e,t){const n=ie(e,t),i=wt(Ge(e,!1,n),`bigramFrequencyByType for ${t.name} on ${e.name}`),r=ne(i.map(o=>o.frequency)),a={};return i.forEach(o=>{a[o.type]=(a[o.type]||0)+o.frequency*1e3/r}),a}function nn(e,t){const n=e.filter(r=>t.includes(r.type)),i=ne(e.map(r=>r.frequency));return Math.round(ne(n.map(r=>r.frequency))*1e3/i)}const da={E:137,A:115,O:86.8,S:79.8,R:68.7,N:67.1,I:62.5,D:50.1,L:49.7,T:46.3,C:40.2,U:39.3,M:31.6,P:25.1,B:22.2,H:19.7,G:17.7,Y:14.3,V:11.4,Q:8.8,Ã³:8.3,Ã­:7.3,F:6.9,X:5.2,Ã¡:5,J:4.9,Z:4.7,Ã©:4.3,Ã±:3.1,Ãº:1.7,W:.3,K:.3},fa={E:174,N:97.8,I:75.5,S:72.7,R:70,A:65.1,T:61.5,D:50.8,H:47.6,U:43.5,L:34.4,C:30.6,G:30.1,M:25.3,O:25.1,B:18.9,W:18.9,F:16.6,K:12.1,Z:11.3,".":10,",":10,P:7.9,V:6.7,"-":5,"áºž":3.1,J:2.7,Y:.4,X:.3,Q:.2};function ma({appState:e}){const t=fi(!1),n=t.value?ut:ut.filter(i=>i.localMaximum||i.techName===le.techName);return s(K,{children:s("div",{class:"mapping-list-controls",children:[s(O,{label:"show all mappings",checked:t.value,onChange:i=>t.value=i}),s("table",{class:"mapping-list",children:[s("thead",{children:s("tr",{class:"mapping-list-header",children:[s("td",{children:"Mapping Name"}),s("td",{children:"Learnability Score"}),s("td",{children:["Home Row Proportion",s("br",{}),"English / Spanish / German"]}),s("td",{children:["English Bigrams",s("br",{}),"Same-Finger / Scissors"]})]})}),s("tbody",{children:n.map(i=>s(ga,{mapping:i,layout:e.layoutModel.value,selectedMapping:e.mapping,showAllMappings:t.value,appState:e},i.techName))})]})]})})}function ga({layout:e,mapping:t,selectedMapping:n,appState:i,showAllMappings:r}){const a=n.value.name===t.name?" selected":"",o=t.localMaximum&&r?" recommended":"",l=t.mapping30?" thumb-letter":"",c=ie(e,t),h=c&&wt(Ge(e,!1,c),`MappingListItem for ${t.name} on ${e.name}`);return s("tr",{class:"mapping-list-item"+a+o+l,onClick:()=>i.setMapping(t),children:[s("td",{children:t.name}),s("td",{children:c&&ya(Bn(_t(e,t)))}),s("td",{children:[c&&qe(e,c,Se)[te]," / ",c&&qe(e,c,da)[te]," / ",c&&qe(e,c,fa)[te]]}),s("td",{children:[h&&nn(h,[y.AltFinger,y.SameFinger])," / ",h&&nn(h,[y.OppositeRow])]})]})}function ya(e){return`${Pn(e)} (${e[1]}/${e[2]}/${e[3]})`}function _a(e,t){for(var n in t)e[n]=t[n];return e}function rn(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var i in t)if(i!=="__source"&&e[i]!==t[i])return!0;return!1}function an(e,t){this.props=e,this.context=t}(an.prototype=new P).isPureReactComponent=!0,an.prototype.shouldComponentUpdate=function(e,t){return rn(this.props,e)||rn(this.state,t)};var on=g.__b;g.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),on&&on(e)};var va=g.__e;g.__e=function(e,t,n,i){if(e.then){for(var r,a=t;a=a.__;)if((r=a.__c)&&r.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),r.__c(e,t)}va(e,t,n,i)};var sn=g.unmount;function yi(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),e.__c.__H=null),(e=_a({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(i){return yi(i,t,n)})),e}function _i(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(i){return _i(i,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function it(){this.__u=0,this.o=null,this.__b=null}function vi(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Ke(){this.i=null,this.l=null}g.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),sn&&sn(e)},(it.prototype=new P).__c=function(e,t){var n=t.__c,i=this;i.o==null&&(i.o=[]),i.o.push(n);var r=vi(i.__v),a=!1,o=function(){a||(a=!0,n.__R=null,r?r(l):l())};n.__R=o;var l=function(){if(!--i.__u){if(i.state.__a){var c=i.state.__a;i.__v.__k[0]=_i(c,c.__c.__P,c.__c.__O)}var h;for(i.setState({__a:i.__b=null});h=i.o.pop();)h.forceUpdate()}};i.__u++||32&t.__u||i.setState({__a:i.__b=i.__v.__k[0]}),e.then(o,o)},it.prototype.componentWillUnmount=function(){this.o=[]},it.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=yi(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__a&&st(K,null,e.fallback);return r&&(r.__u&=-33),[st(K,null,t.__a?null:e.children),r]};var ln=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(Ke.prototype=new P).__a=function(e){var t=this,n=vi(t.__v),i=t.l.get(e);return i[0]++,function(r){var a=function(){t.props.revealOrder?(i.push(r),ln(t,e,i)):r()};n?n(a):a()}},Ke.prototype.render=function(e){this.i=null,this.l=new Map;var t=Be(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ke.prototype.componentDidUpdate=Ke.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){ln(e,n,t)})};var ba=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,wa=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ka=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Sa=/[A-Z0-9]/g,Na=typeof document<"u",Aa=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};P.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(P.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var un=g.event;function Ea(){}function Ca(){return this.cancelBubble}function Ta(){return this.defaultPrevented}g.event=function(e){return un&&(e=un(e)),e.persist=Ea,e.isPropagationStopped=Ca,e.isDefaultPrevented=Ta,e.nativeEvent=e};var Ma={enumerable:!1,configurable:!0,get:function(){return this.class}},cn=g.vnode;g.vnode=function(e){typeof e.type=="string"&&(function(t){var n=t.props,i=t.type,r={},a=i.indexOf("-")===-1;for(var o in n){var l=n[o];if(!(o==="value"&&"defaultValue"in n&&l==null||Na&&o==="children"&&i==="noscript"||o==="class"||o==="className")){var c=o.toLowerCase();o==="defaultValue"&&"value"in n&&n.value==null?o="value":o==="download"&&l===!0?l="":c==="translate"&&l==="no"?l=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?o="ondblclick":c!=="onchange"||i!=="input"&&i!=="textarea"||Aa(n.type)?c==="onfocus"?o="onfocusin":c==="onblur"?o="onfocusout":ka.test(o)&&(o=c):c=o="oninput":a&&wa.test(o)?o=o.replace(Sa,"-$&").toLowerCase():l===null&&(l=void 0),c==="oninput"&&r[o=c]&&(o="oninputCapture"),r[o]=l}}i=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Be(n.children).forEach(function(h){h.props.selected=r.value.indexOf(h.props.value)!=-1})),i=="select"&&r.defaultValue!=null&&(r.value=Be(n.children).forEach(function(h){h.props.selected=r.multiple?r.defaultValue.indexOf(h.props.value)!=-1:r.defaultValue==h.props.value})),n.class&&!n.className?(r.class=n.class,Object.defineProperty(r,"className",Ma)):(n.className&&!n.class||n.class&&n.className)&&(r.class=r.className=n.className),t.props=r})(e),e.$$typeof=ba,cn&&cn(e)};var hn=g.__r;g.__r=function(e){hn&&hn(e),e.__c};var pn=g.diffed;g.diffed=function(e){pn&&pn(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};const bi=({text:e,wordLimit:t=20,showMoreText:n="Show more",showLessText:i="Show less",truncationDelay:r=300})=>{const[a,o]=ti(!1),l=en(!1),c=en(null),h=e.split(" "),d=h.length>t,p=h.slice(0,t).join(" ");ta(()=>()=>{c.current!==null&&window.clearTimeout(c.current)},[]);const m=()=>{o(!a)};return s("div",{className:"truncated-text",onMouseEnter:()=>{l.current=!0,c.current!==null&&(window.clearTimeout(c.current),c.current=null)},onMouseLeave:()=>{l.current=!1,d&&a&&(c.current=window.setTimeout(()=>{l.current||o(!1),c.current=null},r))},children:a||!d?s(K,{children:[s("span",{children:e}),d&&s("button",{className:"toggle-text-button",onClick:m,children:i})]}):s(K,{children:[s("span",{children:[p,"..."]}),s("button",{className:"toggle-text-button",onClick:m,children:n})]})})};function Ha({appState:e}){const t=e.layoutModel.value,n=e.mapping.value,i=e.vizType.value;return s("div",{children:[Mi(i)?s("div",{className:"layout-description",children:s(bi,{text:t.description})}):s(Ia,{mapping:n,layout:t}),s("hr",{}),s("div",{class:"visualization-details",children:xa(i,t,n)})]})}function xa(e,t,n){switch(e){case w.LayoutKeySize:return s(Fa,{layout:t});case w.LayoutFingering:return s(La,{layout:t});case w.LayoutAngle:return s("p",{children:["The ",s("span",{className:"hand-stagger-line",children:"green"})," line represents your hand's angle on the keyboard, assuming that you turn a split keyboard to get just the right straight angle. For the non-split keyboards the angle actually is more vertical for people sitting straight up and more tilted for people like me who spread their elbows on the desk. The ",s("span",{className:"stagger-line",children:"red"})," line shows the keyboad stagger which for ANSI always faces one-way because of the 0.25 step that would be 0.75 if one tried to reach the other way."]});case w.LayoutKeyEffort:return s(Ra,{layout:t,mapping:n});case w.MappingDiff:return s(qa,{diff:_t(t,n),mapping:n});case w.MappingFrequeny:return s("p",{children:"The area of each shown circle is proportional to how often each letter occurs in the average of all English texts. This frequency is used to calculate the single-key Typing Effort Score. Switch between this and the Single-Key Effort visualization to see if the most frequent letters are on the easiest keys."});case w.MappingBigrams:return s(Wa,{layout:t,mapping:n});case w.MappingAltGr:return s(za,{})}}function Ia({mapping:e,layout:t}){const n=t.getSpecificMapping(e)?"specifically customized":e.mappingThumb30?"derived from the generic 30-key with thumb mapping":"derived from the generic 30-key without thumb mapping",i=e.sourceUrl,r=e.sourceLinkTitle??i;return s("div",{className:"mapping-summary",children:[s("p",{children:["The ",s("b",{children:e.name})," key mapping for the ",s("b",{children:t.name})," layout is ",s("i",{children:n}),"."]}),e.description&&s(bi,{text:e.description}),i&&s("p",{children:["Source: ",s("a",{href:i,children:r})]})]})}function La({layout:e}){return s("p",{children:["Colors on the keys denote which keys will be pressed by the same finger according to the touch-typing method. This allows us to see, how much work each finger has, how far it has to move, and what keys can cause bigram conflicts.",s("br",{}),"Some people will probably hit some of those keys with different fingers. Given the many bigram conflicts and general awkwardness of the ANSI layout and Qwerty mapping, it might not even be the same finger for every tap on the same key.",s("br",{}),"But however it might be, we need some base model for finger assignment to reason about the typing of bigrams, so we'll take this as a start."]})}function Ka(e){const t=new Map;return(e.thirtyKeyMapping||e.fullMapping).forEach((n,i)=>{n.forEach((r,a)=>{if(r!==null){const o=Fn(e)(i,a);t.set(o,(t.get(o)??0)+1)}})}),t}function Fa({layout:e}){const t=Ka(e),n=ne([...t.values()]),i=Rn(e);return s("div",{children:[s("p",{children:["Colors on the keys show which keycaps have the same size.",s("br",{}),"It's easier to swap around keycaps to different places on the keyboard if many of them share the same size. It also makes production and logistics easier."]}),s("div",{children:[s(dn,{size:1,count:t.get(1),sizeList:i}),i.map(r=>s(dn,{size:r,count:t.get(r),sizeList:i})),s("div",{children:[s("div",{class:"keysize-legend-item",children:s("b",{children:"Total"})})," â€“ ",n," keys."]})]})]})}function dn({size:e,count:t,sizeList:n}){return s("div",{children:[s("div",{class:"keysize-legend-item "+qn(e,n),children:e}),"â€“ ",t," keys."]})}function Ra({layout:e,mapping:t}){const n=ie(e,t),i=qe(e,n,Se),r=Math.round(ne(Object.entries(i).map(([a,o])=>Number(a)*o)));return s("div",{children:[s("p",{children:"There is always some individual bias in determining how hard or easy each key on the board is to reach from the home position, which is why the statistic on the left shows only the usage of the eight or nine home keys. Those are the easiest to type for any shape of keyboard or hand."}),s("p",{children:['The following legend shows the percentage (actually permilltage ðŸ˜…) of key strokes (according to English average letter frequency), that fall on each color of letter. I assigned an effort score for each color of letter. By multiplying frequency with the score and adding it all up, we get a "total single key effort score" for this keymap in English of',s("b",{children:[" ",Ii(e,n,Se)]}),"."]}),s("table",{children:[s(ge,{score:te,frequency:i[te],children:"Home position, including the thumb keys, if present."}),s(ge,{score:Tt,frequency:i[Tt],children:"Upward move for long fingers is particularly easy."}),s(ge,{score:Mt,frequency:i[Mt],children:"Most neighbors of home position keys."}),s(ge,{score:Ht,frequency:i[Ht],children:["Several neighbors of home keys are inconvenient to reach, especially lateral movement of the index fingers and upward movement of the pinky fingers.",e.name.includes("ANSI")&&s("p",{class:"footnote",children:" On the ANSI layout for typists with classical training, this also affects the left lower row where the finger assignment goes against the natural direction of the hand/arm. (You can train yourself to use the better-suited finger for hitting the key, but the you'll have to retrain whenever you use an ortho board.)"})]}),s(ge,{score:we,frequency:i[we],children:"Keys that aren't neighbors of home position keys."})]}),s("p",{children:[s("b",{children:["Total: ",r]})," â€“ Higher is better!"]})]})}function ge({frequency:e,score:t,children:n}){return s("tr",{children:[s("td",{class:"key-effort-legend-item "+$n(t),children:Math.round(e??0)}),s("td",{children:["[Score:Â ",t.toFixed(1),"]"]}),s("td",{children:n})]})}function qa({diff:e,mapping:t}){const n=Bn(e),i=t.comparisonBase??le;return s("div",{children:[s("p",{children:["Here's how 26 letters and six prose punctuation characters are changed in this layout compared to well-known ",s("i",{children:i.name}),":"]}),s(Fe,{count:n[T.SamePosition],description:"Keys unchanged.",counterClass:"unchanged"}),s(Fe,{count:n[T.SameFinger],description:"Keys change on same finger. (0.5 LP)",counterClass:"same-finger"}),s(Fe,{count:n[T.SameHand],description:"Keys change finger on same hand. (1.0 LP)",counterClass:"same-hand"}),s(Fe,{count:n[T.SwapHands],description:"Keys swap hands. (2.0 LP)",counterClass:"swap-hands"}),s("p",{children:"We calculate the total learnability (or switchability) score of the mapping by deducting the specified amount of learning points (LP) for each type of change as listed above."}),s("p",{children:[s("b",{children:["Total Score: ",Pn(n)]})," â€“ Lower is better."]})]})}function Fe({count:e,description:t,counterClass:n}){return s("div",{children:[s("div",{class:`diff-legend-item ${n}`,children:e}),t]})}function Wa({layout:e,mapping:t}){const n=pa(e,t),i=ne(Object.entries(n).map(([r,a])=>En[Number(r)]*a));return s("div",{children:[s("p",{children:"Human hands on a keyboard can move fingers independently and usually will move the next finger to its key while the current key is being hit. Obviously this doesn't work when both keys are to be typed by the same finger or when both keys are to far away from each other. The bigram effort scores give extra penalties to key mappings which make this happen for letter pairs that occur very often together. Here are the added frequencies of each type of bigram and theirs score. Like for single-key effort, the weighted sum is the total Typing Effort Score for bigrams."}),s(V,{bigramType:y.SameFinger,frequency:n[y.SameFinger],children:'"Same-finger Bigram": The worst thing to happen is having to use the same finger subsequently on different keys. We count this as highest effort.'}),s(V,{bigramType:y.AltFinger,frequency:n[y.AltFinger],children:'"Alt-Fingering": When the keyboard layout makes it easy to type some keys with another finger, the single finger bottleneck can be avoided. (Maybe you noticed yourself typing "er", "cd", or "un" with two different fingers, although strict touch-typing rules assign the same finger to both keys.)'}),s(V,{bigramType:y.OppositeRow,frequency:n[y.OppositeRow],children:'"Scissor movement": Two keys on opposite rows (upper and lower letter row) are awkward to type in sequence, because curling a finger moves the palm up and stretching a finger moves the palm down. This count is sometimes referred to as "scissor" movement in the literature.'}),s(V,{bigramType:y.NeighboringRow,frequency:n[y.NeighboringRow],children:"Two keys on neighboring rows are no extra effort."}),s(V,{bigramType:y.SameRow,frequency:n[y.SameRow],children:'"Generalized Rolls": Two keys on the same row are so easy and fun to type, that many key maps try to maximize those.'}),s(V,{bigramType:y.InvolvesThumb,frequency:n[y.InvolvesThumb],children:"Bigrams where one letter is on a thumb key are not shown, because (most people's) thumbs move independently from the other fingers. (And we have at most one letter key per thumb. And the space key on the other thumb.)"}),s(V,{bigramType:y.OtherHand,frequency:n[y.OtherHand],children:"Bigrams typed with fingers of different hands aren't shown either. They make no trouble."}),s("p",{children:[s("b",{children:["Total: ",Math.round(i)]})," â€“ Lower is better."]}),s("p",{class:"footnote",children:["Only the ",4*gi," most frequent bigrams are shown in the keyboard visualization, but all available data is used in the calculation of the total score. (Infrequent bigrams have a an inconsequential contribution.)"]})]})}function V({bigramType:e,frequency:t,children:n}){return s("div",{children:[s("div",{class:"bigram-effort-legend-item "+On[e],children:Math.round(t??0)}),"[Score: ",En[e],"] ",n]})}function za({}){return s(K,{children:[s("p",{children:"The US American keyboard mapping might be the only one that doesn't come with an AltGr layer. Even the UK English keyboards have it! This layer basically allows us to type a lot more characters. We can use it for characters that are on the traditional keyboards, but we rarely type them. And we can add some extra useful characters like Â¢ or â€° or the m-dash â€“ I really use that one a lot."}),s("p",{children:["I think that all punctuation characters used in daily writing should be accessible via a direct key or Shift, while more rare characters can easily be moved to the AltGr layer. ",s("br",{}),"TODO: actually show an example mapping of the keys that some of the letter mappings omit."]})]})}function Ba(e,t){return t.ansiVariant===E.ANSI_AHKB?!0:e.mapping30||e.mappingAnsi?t.ansiWide:e.mappingAnsiWide||e.mappingThumb30?!0:t.ansiWide}function Pa(e){return e.ansiVariant===E.ANSI_HHKB?!1:e.ansiSplit}function $a(e,t,n){const i=e.type==N.ANSI?{...e,ansiWide:Ba(n.value,e),ansiSplit:Pa(e)}:e,r=Xn(i);Wn(r,n.value)||(n.value.name.toLowerCase().includes("colemak")?n.value=In:n.value=le),t.value=i}function Oa(e,t,n,i){if(Wn(n,e)){i.value=e;return}if(t.value.type===N.ANSI){if(e.mappingAnsi){t.value={...t.value,ansiWide:!1},i.value=e;return}if(e.mappingAnsiWide||e.mappingThumb30){t.value.ansiVariant===E.ANSI_HHKB&&(t.value={...t.value,ansiVariant:E.ANSI_APPLE}),t.value={...t.value,ansiWide:!0},i.value=e;return}}t.value={...t.value,type:N.Ergosplit},i.value=e}function ye(e){return e==="0"?!1:e==="1"?!0:null}function Y(e){if(!e)return null;const t=Number(e);return Number.isFinite(t)?t:null}function Ua(e,t){return(i=>i!==null&&i>=E.ANSI_IBM&&i<=E.ANSI_AHKB)(e)?e:t===null||t?E.ANSI_APPLE:E.ANSI_IBM}function ja(e){if(e){const t=ut.find(n=>n.name==e||n.techName==e);if(t)return t}return le}function Da(e,t,n){const i=new URLSearchParams;switch(i.set("layout",e.type.toString()),i.set("mapping",t.value.techName||t.value.name),i.set("viz",n.value.toString()),e.type){case N.ANSI:i.set("split",e.ansiSplit?"1":"0"),i.set("wide",e.ansiWide?"1":"0"),i.set("ansi",e.ansiVariant.toString());break;case N.Harmonic:i.set("harmonic",e.harmonicVariant.toString());break;case N.Ergoplank:i.set("plank",e.plankVariant.toString()),i.set("ep60arrows",e.ep60Arrows?"1":"0"),i.set("ep60ansi",e.ep60angleMod?"1":"0"),i.set("eb65ls",e.eb65LowshiftVariant.toString()),i.set("eb65ms",e.eb65MidshiftVariant.toString());break}window.history.pushState(null,"","#"+i.toString())}function Ga(){const e=new URLSearchParams(window.location.hash.slice(1)),t=Ua(Y(e.get("ansi")),ye(e.get("apple"))),n=ye(e.get("wide"))??!1,i=t===E.ANSI_AHKB?!0:n,r=ve({type:Y(e.get("layout"))??N.ANSI,ansiVariant:t,ansiSplit:ye(e.get("split"))??!1,ansiWide:i,harmonicVariant:Y(e.get("harmonic"))??R.H13_Wide,plankVariant:Y(e.get("plank"))??B.EP60,ep60Arrows:ye(e.get("ep60arrows"))??!1,ep60angleMod:ye(e.get("ep60ansi"))??!1,eb65LowshiftVariant:Y(e.get("eb65ls"))??ee.LESS_GAPS,eb65MidshiftVariant:Y(e.get("eb65ms"))??F.EXTRA_WIDE,flipRetRub:!0}),a=X(()=>Xn(r.value)),o=ve(ja(e.get("mapping"))),l=ve(Y(e.get("viz"))??w.LayoutFingering),c=X(()=>_t(a.value,o.value)),h=X(()=>{const d=ie(a.value,o.value);return wt(Ge(a.value,r.value.ansiSplit,d),`get bigrams for visualization of ${o.value.name} on ${a.value.name}`)});return ce(()=>Da(r.value,o,l)),{layout:X(()=>r.value),setLayout:d=>$a(d,r,o),layoutModel:a,mapping:X(()=>o.value),setMapping:d=>Oa(d,r,a.value,o),vizType:l,mappingDiff:c,bigramMovements:h}}const rt=Ga();function Qa(){return s(K,{children:[s(Qr,{appState:rt}),s("hr",{}),s(Va,{vizType:rt.vizType}),s("hr",{}),s(Ya,{appState:rt})]})}function Va({vizType:e}){return s("div",{class:"visualization-switches",children:[s("div",{children:["Layout Visualizations:",s(Z,{vizType:w.LayoutKeySize,signal:e,children:"Key Sizes"}),s(Z,{vizType:w.LayoutFingering,signal:e,children:"Fingering"}),s(Z,{vizType:w.LayoutAngle,signal:e,children:"Angle"}),s(Z,{vizType:w.LayoutKeyEffort,signal:e,children:"Single-Key Effort"})]}),s("div",{children:["Mapping Visualizations:",s(Z,{vizType:w.MappingDiff,signal:e,children:"Learning"}),s(Z,{vizType:w.MappingFrequeny,signal:e,children:"Letter Frequency"}),s(Z,{vizType:w.MappingBigrams,signal:e,children:"Bigram Effort"})]})]})}function Z({vizType:e,signal:t,children:n}){return s("button",{class:"viz-type-button"+(e===t.value?" selected":""),onClick:()=>t.value=e,children:n})}function Ya({appState:e}){return s("div",{class:"mapping-and-details-container",children:[s(ma,{appState:e}),s(Ha,{appState:e})]})}Ei(s(Qa,{}),document.getElementById("app"));
